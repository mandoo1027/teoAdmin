(function(e,d){typeof exports=="object"&&typeof module<"u"?module.exports=d(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],d):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=d(e.Vue,e.dateFns))})(this,function(e,d){"use strict";function He(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}He.compatConfig={MODE:3};function qt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}qt.compatConfig={MODE:3};function ot(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ot.compatConfig={MODE:3};function lt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}lt.compatConfig={MODE:3};function st(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}st.compatConfig={MODE:3};function it(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}it.compatConfig={MODE:3};function ut(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ut.compatConfig={MODE:3};function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Zt);var Pn=Zt.exports,dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}t.exports=r.default})(dt,dt.exports);var _n=dt.exports;const En=ct(_n);var ft={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}t.exports=r.default})(ft,ft.exports);var Rn=ft.exports;const Xt=ct(Rn);function Vn(t,r){var a=zn(r);return a.formatToParts?Yn(a,t):In(a,t)}var On={year:0,month:1,day:2,hour:3,minute:4,second:5};function Yn(t,r){try{for(var a=t.formatToParts(r),n=[],o=0;o<a.length;o++){var l=On[a[o].type];l>=0&&(n[l]=parseInt(a[o].value,10))}return n}catch(m){if(m instanceof RangeError)return[NaN];throw m}}function In(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var mt={};function zn(t){if(!mt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";mt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return mt[t]}function gt(t,r,a,n,o,l,m){var y=new Date(0);return y.setUTCFullYear(t,r,a),y.setUTCHours(n,o,l,m),y}var Jt=36e5,Hn=6e4,pt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ht(t,r,a){var n,o;if(!t||(n=pt.timezoneZ.exec(t),n))return 0;var l;if(n=pt.timezoneHH.exec(t),n)return l=parseInt(n[1],10),Qt(l)?-(l*Jt):NaN;if(n=pt.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var m=parseInt(n[2],10);return Qt(l,m)?(o=Math.abs(l)*Jt+m*Hn,l>0?-o:o):NaN}if(Un(t)){r=new Date(r||Date.now());var y=a?r:Ln(r),D=yt(y,t),B=a?D:Kn(r,D,t);return-B}return NaN}function Ln(t){return gt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function yt(t,r){var a=Vn(t,r),n=gt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),o=t.getTime(),l=o%1e3;return o-=l>=0?l:1e3+l,n-o}function Kn(t,r,a){var n=t.getTime(),o=n-r,l=yt(new Date(o),a);if(r===l)return r;o-=l-r;var m=yt(new Date(o),a);return l===m?l:Math.max(l,m)}function Qt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Ft={};function Un(t){if(Ft[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Ft[t]=!0,!0}catch{return!1}}var en=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,kt=36e5,tn=6e4,Wn=2,pe={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:en};function wt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?Wn:En(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=jn(t),l=xn(o.date,n),m=l.year,y=l.restDateString,D=Gn(y,m);if(isNaN(D))return new Date(NaN);if(D){var B=D.getTime(),h=0,R;if(o.time&&(h=qn(o.time),isNaN(h)))return new Date(NaN);if(o.timeZone||a.timeZone){if(R=ht(o.timeZone||a.timeZone,new Date(B+h)),isNaN(R))return new Date(NaN)}else R=Xt(new Date(B+h)),R=Xt(new Date(B+h+R));return new Date(B+h+R)}else return new Date(NaN)}function jn(t){var r={},a=pe.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=pe.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var o=pe.timeZone.exec(n);o?(r.time=n.replace(o[1],""),r.timeZone=o[1].trim()):r.time=n}return r}function xn(t,r){var a=pe.YYY[r],n=pe.YYYYY[r],o;if(o=pe.YYYY.exec(t)||n.exec(t),o){var l=o[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(o=pe.YY.exec(t)||a.exec(t),o){var m=o[1];return{year:parseInt(m,10)*100,restDateString:t.slice(m.length)}}return{year:null}}function Gn(t,r){if(r===null)return null;var a,n,o,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=pe.MM.exec(t),a)return n=new Date(0),o=parseInt(a[1],10)-1,an(r,o)?(n.setUTCFullYear(r,o),n):new Date(NaN);if(a=pe.DDD.exec(t),a){n=new Date(0);var m=parseInt(a[1],10);return Jn(r,m)?(n.setUTCFullYear(r,0,m),n):new Date(NaN)}if(a=pe.MMDD.exec(t),a){n=new Date(0),o=parseInt(a[1],10)-1;var y=parseInt(a[2],10);return an(r,o,y)?(n.setUTCFullYear(r,o,y),n):new Date(NaN)}if(a=pe.Www.exec(t),a)return l=parseInt(a[1],10)-1,on(r,l)?nn(r,l):new Date(NaN);if(a=pe.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var D=parseInt(a[2],10)-1;return on(r,l,D)?nn(r,l,D):new Date(NaN)}return null}function qn(t){var r,a,n;if(r=pe.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),bt(a)?a%24*kt:NaN;if(r=pe.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),bt(a,n)?a%24*kt+n*tn:NaN;if(r=pe.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var o=parseFloat(r[3].replace(",","."));return bt(a,n,o)?a%24*kt+n*tn+o*1e3:NaN}return null}function nn(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var o=n.getUTCDay()||7,l=r*7+a+1-o;return n.setUTCDate(n.getUTCDate()+l),n}var Zn=[31,28,31,30,31,30,31,31,30,31,30,31],Xn=[31,29,31,30,31,30,31,31,30,31,30,31];function rn(t){return t%400===0||t%4===0&&t%100!==0}function an(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=rn(t);if(n&&a>Xn[r]||!n&&a>Zn[r])return!1}return!0}function Jn(t,r){if(r<1)return!1;var a=rn(t);return!(a&&r>366||!a&&r>365)}function on(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function bt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Mt={exports:{}},Dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,o){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l]);return n}t.exports=r.default})(Dt,Dt.exports);var Qn=Dt.exports;(function(t,r){var a=Pn.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var n=a(Qn);function o(l){return(0,n.default)({},l)}t.exports=r.default})(Mt,Mt.exports);var Fn=Mt.exports;const er=ct(Fn);function tr(t,r,a){var n=wt(t,a),o=ht(r,n,!0),l=new Date(n.getTime()-o),m=new Date(0);return m.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),m.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),m}function nr(t,r,a){if(typeof t=="string"&&!t.match(en)){var n=er(a);return n.timeZone=r,wt(t,n)}var o=wt(t,a),l=gt(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),m=ht(r,new Date(l));return new Date(l+m)}function ln(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function rr(t){return r=>d.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const ar=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let o;if(t!==null)try{o=n.map(rr(t))}catch{o=n.map(ln(r))}else o=n.map(ln(r));const l=o.slice(0,a),m=o.slice(a+1,o.length);return[o[a]].concat(...m).concat(...l)},Ct=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},sn=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const m=l<10?`0${l}`:l;return new Date(`2017-${m}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((m,y)=>{const D=d.format(m,l,{locale:t});return{text:D.charAt(0).toUpperCase()+D.substring(1),value:y}})}catch{}const o=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,m)=>{const y=o.format(l);return{text:y.charAt(0).toUpperCase()+y.substring(1),value:m}})},or=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ue=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},lr=t=>Object.assign({type:"dot"},t),un=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Xe={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,cn=t=>t===0?t:!t||isNaN(+t)?null:+t,dn=t=>t===null,sr=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},ir=t=>{const r=[],a=n=>n.filter(o=>o);for(let n=0;n<t.length;n+=3){const o=[t[n],t[n+1],t[n+2]];r.push(a(o))}return r},Le=(t,r,a)=>{const n=a??a===0,o=r??r===0;if(!n&&!o)return!1;const l=+a,m=+r;return n&&o?+t>l||+t<m:n?+t>l:o?+t<m:!1},Oe=(t,r)=>ir(t).map(a=>a.map(n=>{const{active:o,disabled:l,isBetween:m}=r(n);return{...n,active:o,disabled:l,className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&o,dp__cell_in_between:m}}})),$e=(t,r,a=!1)=>{t&&r.allowStopPropagation&&(a&&t.stopImmediatePropagation(),t.stopPropagation())},fn=(t,r,a,n,o)=>{const l=d.parse(t,r.slice(0,t.length),new Date);return d.isValid(l)&&d.isDate(l)?n||o?l:d.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},ur=(t,r,a,n,o)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return fn(t,r,l,n,o);if(Array.isArray(r)){let m=null;for(const y of r)if(m=fn(t,y,l,n,o),m)break;return m}return typeof r=="function"?r(t):null},A=t=>t?new Date(t):new Date,cr=(t,r,a)=>{if(r){const o=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),y=t.getMinutes().toString().padStart(2,"0"),D=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${o}-${l}T${m}:${y}:${D}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},ye=t=>{let r=A(JSON.parse(JSON.stringify(t)));return r=d.setHours(r,0),r=d.setMinutes(r,0),r=d.setSeconds(r,0),r=d.setMilliseconds(r,0),r},Be=(t,r,a,n)=>{let o=t?A(t):A();return(r||r===0)&&(o=d.setHours(o,+r)),(a||a===0)&&(o=d.setMinutes(o,+a)),(n||n===0)&&(o=d.setSeconds(o,+n)),d.setMilliseconds(o,0)},fe=(t,r)=>!t||!r?!1:d.isBefore(ye(t),ye(r)),ne=(t,r)=>!t||!r?!1:d.isEqual(ye(t),ye(r)),ge=(t,r)=>!t||!r?!1:d.isAfter(ye(t),ye(r)),St=(t,r,a)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(a,t[0])&&fe(a,t[1]):t!=null&&t[0]&&r?ge(a,t[0])&&fe(a,r)||fe(a,t[0])&&ge(a,r):!1,we=t=>{const r=d.set(new Date(t),{date:1});return ye(r)},Tt=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Pe=t=>({hours:d.getHours(t),minutes:d.getMinutes(t),seconds:d.getSeconds(t)}),mn=(t,r)=>{if(r){const a=d.getYear(A(r));if(a>t)return 12;if(a===t)return d.getMonth(A(r))}},gn=(t,r)=>{if(r){const a=d.getYear(A(r));return a<t?-1:a===t?d.getMonth(A(r)):void 0}},Ye=t=>{if(t)return d.getYear(A(t))},De=(t,r)=>r?tr(t,r):t,pn=(t,r)=>r?nr(t,r):t,hn=t=>t instanceof Date?t:d.parseISO(t),yn=(t,r)=>{const a=ge(t,r)?r:t,n=ge(r,t)?r:t;return d.eachDayOfInterval({start:a,end:n})},dr=t=>{const r=d.addMonths(t,1);return{month:d.getMonth(r),year:d.getYear(r)}},Je=(t,r,a)=>{const n=d.startOfWeek(De(t,r),{weekStartsOn:+a}),o=d.endOfWeek(De(t,r),{weekStartsOn:+a});return[n,o]},kn=(t,r)=>{const a={hours:d.getHours(A()),minutes:d.getMinutes(A()),seconds:r?d.getSeconds(A()):0};return Object.assign(a,t)},ve=(t,r,a)=>[d.set(A(t),{date:1}),d.set(A(),{month:r,year:a,date:1})],Se=(t,r,a)=>{let n=t?A(t):A();return(r||r===0)&&(n=d.setMonth(n,r)),a&&(n=d.setYear(n,a)),n},wn=(t,r,a,n,o)=>{if(!n||o&&!r||!o&&!a)return!1;const l=o?d.addMonths(t,1):d.subMonths(t,1),m=[d.getMonth(l),d.getYear(l)];return o?!mr(...m,r):!fr(...m,a)},fr=(t,r,a)=>fe(...ve(a,t,r))||ne(...ve(a,t,r)),mr=(t,r,a)=>ge(...ve(a,t,r))||ne(...ve(a,t,r)),bn=(t,r,a,n,o,l)=>{if(typeof r=="function")return r(t);const m=a?{locale:a}:void 0;return Array.isArray(t)?`${d.format(t[0],l,m)}${o&&!t[1]?"":n}${t[1]?d.format(t[1],l,m):""}`:d.format(t,l,m)},Ie=t=>{if(t)return null;throw new Error(Xe.prop("partial-range"))},Qe=(t,r)=>{if(r)return t();throw new Error(Xe.prop("range"))},$t=t=>Array.isArray(t)?d.isValid(t[0])&&(t[1]?d.isValid(t[1]):!0):t?d.isValid(t):!1,gr=t=>d.set(A(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Bt=(t,r,a,n)=>{if(!t)return!0;if(n){const o=a==="max"?d.isBefore(t,r):d.isAfter(t,r),l={seconds:0,milliseconds:0};return o||d.isEqual(d.set(t,l),d.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},Mn=(t,r,a,n,o)=>{const l=t?gr(t):A(r);return Array.isArray(n)?Bt(n[0],l,a,!!r)&&Bt(n[1],l,a,!!r)&&o:Bt(n,l,a,!!r)&&o},vt=t=>d.set(A(),Pe(t)),pr=(t,r)=>Array.isArray(t)?t.map(a=>A(a)).filter(a=>d.getYear(A(a))===r).map(a=>d.getMonth(a)):[],Ke=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Dn=()=>{const t=n=>{Ke.menuFocused=n},r=n=>{Ke.shiftKeyInMenu!==n&&(Ke.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Ke.shiftKeyInMenu,menuFocused:Ke.menuFocused})),setMenuFocused:t,setShiftKey:r}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),At=e.ref(null),Fe=e.ref(!1),Nt=e.ref(!1),Pt=e.ref(!1),_t=e.ref(!1),he=e.ref(0),me=e.ref(0),Ae=()=>{const t=e.computed(()=>Fe.value?[...oe.selectionGrid,oe.actionRow].filter(w=>w.length):Nt.value?[...oe.timePicker[0],...oe.timePicker[1],_t.value?[]:[At.value],oe.actionRow].filter(w=>w.length):Pt.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(w=>w.length)),r=w=>{he.value=w?he.value+1:he.value-1;let C=null;t.value[me.value]&&(C=t.value[me.value][he.value]),C||(he.value=w?he.value-1:he.value+1)},a=w=>{if(me.value===0&&!w||me.value===t.value.length&&w)return;me.value=w?me.value+1:me.value-1,t.value[me.value]?t.value[me.value]&&!t.value[me.value][he.value]&&he.value!==0&&(he.value=t.value[me.value].length-1):me.value=w?me.value-1:me.value+1},n=w=>{let C=null;t.value[me.value]&&(C=t.value[me.value][he.value]),C?C.focus({preventScroll:!Fe.value}):he.value=w?he.value-1:he.value+1},o=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},m=()=>{a(!1),n(!0)},y=()=>{a(!0),n(!0)},D=(w,C)=>{oe[C]=w},B=(w,C)=>{oe[C]=w},h=()=>{he.value=0,me.value=0};return{buildMatrix:D,buildMultiLevelMatrix:B,setTimePickerBackRef:w=>{At.value=w},setSelectionGrid:w=>{Fe.value=w,h(),w||(oe.selectionGrid=[])},setTimePicker:(w,C=!1)=>{Nt.value=w,_t.value=C,h(),w||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(w,C=0)=>{oe.timePicker[C]=w},arrowRight:o,arrowLeft:l,arrowUp:m,arrowDown:y,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],Fe.value=!1,Nt.value=!1,_t.value=!1,Pt.value=!1,h(),At.value=null},setMonthPicker:w=>{Pt.value=w,h()},refSets:oe}},Cn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),hr=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),Sn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,yr=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:Sn(!1)};const n=r?t:{},o=r?n.count??!0:t,l=Sn(o);return Object.assign(a,n,{count:l})},kr=(t,r,a)=>t||(typeof a=="string"?a:r),wr=t=>typeof t=="boolean"?t?Cn({}):!1:Cn(t),br=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},Mr=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Dr=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Cr=t=>{const r={input:!1};return typeof t=="object"?{...r,...t??{},enabled:!0}:{enabled:t,...r}},Sr=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0},...t??{}}),de=t=>{const r=()=>{const G=t.enableSeconds?":ss":"";return t.is24?`HH:mm${G}`:`hh:mm${G} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=G=>kn(G,t.enableSeconds),o=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>yr(t.multiCalendars)),m=e.computed(()=>o()),y=e.computed(()=>hr(t.ariaLabels)),D=e.computed(()=>Mr(t.filters)),B=e.computed(()=>wr(t.transitions)),h=e.computed(()=>Dr(t.actionRow)),R=e.computed(()=>kr(t.previewFormat,t.format,a())),P=e.computed(()=>br(t.textInput)),W=e.computed(()=>Cr(t.inline)),j=e.computed(()=>Sr(t.config));return{defaultedTransitions:B,defaultedMultiCalendars:l,defaultedStartTime:m,defaultedAriaLabels:y,defaultedFilters:D,defaultedActionRow:h,defaultedPreviewFormat:R,defaultedTextInput:P,defaultedInline:W,defaultedConfig:j,getDefaultPattern:a,getDefaultStartTime:o}},Tr=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:o,getDefaultPattern:l}=de(r),m=e.ref(""),y=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(y,()=>{p()});const D=i=>pn(i,r.timezone),B=i=>De(i,r.timezone),h=(i,u)=>bn(i,r.format,r.formatLocale,o.value.rangeSeparator,r.modelAuto,u??l()),R=i=>{const u=i??A();return r.modelType?g(u):{hours:d.getHours(u),minutes:d.getMinutes(u),seconds:r.enableSeconds?d.getSeconds(u):0}},P=i=>r.modelType?g(i):{month:d.getMonth(i),year:d.getYear(i)},W=i=>Array.isArray(i)?Qe(()=>[d.setYear(A(),i[0]),i[1]?d.setYear(A(),i[1]):Ie(r.partialRange)],r.range):d.setYear(A(),+i),j=(i,u)=>(typeof i=="string"||typeof i=="number")&&r.modelType?V(i):u,G=i=>Array.isArray(i)?[j(i[0],Be(null,+i[0].hours,+i[0].minutes,i[0].seconds)),j(i[1],Be(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:j(i,Be(null,i.hours,i.minutes,i.seconds)),Z=i=>Array.isArray(i)?r.multiDates?i.map(u=>j(u,Se(null,+u.month,+u.year))):Qe(()=>[j(i[0],Se(null,+i[0].month,+i[0].year)),j(i[1],i[1]?Se(null,+i[1].month,+i[1].year):Ie(r.partialRange))],r.range):j(i,Se(null,+i.month,+i.year)),w=i=>{if(Array.isArray(i))return i.map(u=>V(u));throw new Error(Xe.dateArr("multi-dates"))},C=i=>{if(Array.isArray(i))return[A(i[0]),A(i[1])];throw new Error(Xe.dateArr("week-picker"))},Y=i=>r.modelAuto?Array.isArray(i)?[V(i[0]),V(i[1])]:r.autoApply?[V(i)]:[V(i),null]:Array.isArray(i)?Qe(()=>[V(i[0]),i[1]?V(i[1]):Ie(r.partialRange)],r.range):V(i),L=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Ie(r.partialRange))},U=()=>{const i=n.value;return[g(i[0]),i[1]?g(i[1]):Ie(r.partialRange)]},v=()=>n.value[1]?U():g(ie(n.value[0])),F=()=>(n.value||[]).map(i=>g(i)),q=()=>(L(),r.modelAuto?v():r.multiDates?F():Array.isArray(n.value)?Qe(()=>U(),r.range):g(ie(n.value))),H=i=>!i||Array.isArray(i)&&!i.length?null:r.timePicker?G(ie(i)):r.monthPicker?Z(ie(i)):r.yearPicker?W(ie(i)):r.multiDates?w(ie(i)):r.weekPicker?C(ie(i)):Y(ie(i)),k=i=>{const u=H(i);$t(ie(u))?(n.value=ie(u),p()):(n.value=null,m.value="")},T=()=>{const i=u=>d.format(u,o.value.format);return`${i(n.value[0])} ${o.value.rangeSeparator} ${n.value[1]?i(n.value[1]):""}`},I=()=>a.value&&n.value?Array.isArray(n.value)?T():d.format(n.value,o.value.format):h(n.value),X=()=>n.value?r.multiDates?n.value.map(i=>h(i)).join("; "):o.value.enabled&&typeof o.value.format=="string"?I():h(n.value):"",p=()=>{!r.format||typeof r.format=="string"||o.value.enabled&&typeof o.value.format=="string"?m.value=X():m.value=r.format(n.value)},V=i=>{if(r.utc){const u=new Date(i);return r.utc==="preserve"?new Date(u.getTime()+u.getTimezoneOffset()*6e4):u}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?B(new Date(i)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?d.parse(i,l(),new Date):B(d.parse(i,r.modelType,new Date)):B(new Date(i))},g=i=>i?r.utc?cr(i,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+D(i):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?h(D(i)):h(D(i),r.modelType):D(i):"",b=(i,u=!1)=>{if(t("update:model-value",i),r.emitTimezone&&u){const N=Array.isArray(i)?i.map(_=>De(ie(_)),r.emitTimezone):De(ie(i),r.emitTimezone);t("update:model-timezone-value",N)}},f=i=>Array.isArray(n.value)?r.multiDates?n.value.map(u=>i(u)):[i(n.value[0]),n.value[1]?i(n.value[1]):Ie(r.partialRange)]:i(ie(n.value)),s=i=>b(ie(f(i)));return{inputValue:m,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:k,formatInputValue:p,emitModelValue:()=>(p(),r.monthPicker?s(P):r.timePicker?s(R):r.yearPicker?s(d.getYear):r.weekPicker?b(n.value,!0):b(q(),!0))}},$r=(t,r)=>{const{defaultedFilters:a}=de(t),{validateMonthYearInRange:n}=We(t),o=(B,h)=>{let R=B;return a.value.months.includes(d.getMonth(R))?(R=h?d.addMonths(B,1):d.subMonths(B,1),o(R,h)):R},l=(B,h)=>{let R=B;return a.value.years.includes(d.getYear(R))?(R=h?d.addYears(B,1):d.subYears(B,1),l(R,h)):R},m=(B,h=!1)=>{const R=d.set(new Date,{month:t.month,year:t.year});let P=B?d.addMonths(R,1):d.subMonths(R,1);t.disableYearSelect&&(P=d.setYear(P,t.year));let W=d.getMonth(P),j=d.getYear(P);a.value.months.includes(W)&&(P=o(P,B),W=d.getMonth(P),j=d.getYear(P)),a.value.years.includes(j)&&(P=l(P,B),j=d.getYear(P)),n(W,j,B,t.preventMinMaxNavigation)&&y(W,j,h)},y=(B,h,R)=>{r("update-month-year",{month:B,year:h,fromNav:R})},D=e.computed(()=>B=>wn(d.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,B));return{handleMonthYearChange:m,isDisabled:D,updateMonthYear:y}};var ze=(t=>(t.center="center",t.left="left",t.right="right",t))(ze||{}),be=(t=>(t.month="month",t.year="year",t))(be||{}),_e=(t=>(t.top="top",t.bottom="bottom",t))(_e||{}),Ee=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ee||{}),Ce=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Ce||{});const Br=({menuRef:t,menuRefInner:r,inputRef:a,pickerWrapperRef:n,inline:o,emit:l,props:m,slots:y})=>{const D=e.ref({}),B=e.ref(!1),h=e.ref({top:"0",left:"0"}),R=e.ref(!1),P=e.toRef(m,"teleportCenter");e.watch(P,()=>{h.value=JSON.parse(JSON.stringify({})),L()});const W=g=>{if(m.teleport){const b=g.getBoundingClientRect();return{left:b.left+window.scrollX,top:b.top+window.scrollY}}return{top:0,left:0}},j=(g,b)=>{h.value.left=`${g+b-D.value.width}px`},G=g=>{h.value.left=`${g}px`},Z=(g,b)=>{m.position===ze.left&&G(g),m.position===ze.right&&j(g,b),m.position===ze.center&&(h.value.left=`${g+b/2-D.value.width/2}px`)},w=g=>{const{width:b,height:f}=g.getBoundingClientRect(),{top:s,left:S}=m.altPosition?m.altPosition(g):W(g);return{top:+s,left:+S,width:b,height:f}},C=()=>{h.value.left="50%",h.value.top="50%",h.value.transform="translate(-50%, -50%)",h.value.position="fixed",delete h.value.opacity},Y=()=>{const g=ue(a),{top:b,left:f,transform:s}=m.altPosition(g);h.value={top:`${b}px`,left:`${f}px`,transform:s??""}},L=(g=!0)=>{var b;if(!o.value.enabled){if(P.value)return C();if(m.altPosition!==null)return Y();if(g){const f=m.teleport?(b=r.value)==null?void 0:b.$el:t.value;f&&(D.value=f.getBoundingClientRect()),l("recalculate-position")}return T()}},U=({inputEl:g,left:b,width:f})=>{window.screen.width>768&&!B.value&&Z(b,f),q(g)},v=g=>{const{top:b,left:f,height:s,width:S}=w(g);h.value.top=`${s+b+ +m.offset}px`,R.value=!1,B.value||(h.value.left=`${f+S/2-D.value.width/2}px`),U({inputEl:g,left:f,width:S})},F=g=>{const{top:b,left:f,width:s}=w(g);h.value.top=`${b-+m.offset-D.value.height}px`,R.value=!0,U({inputEl:g,left:f,width:s})},q=g=>{if(m.autoPosition){const{left:b,width:f}=w(g),{left:s,right:S}=D.value;if(!B.value){if(Math.abs(s)!==Math.abs(S)){if(s<=0)return B.value=!0,G(b);if(S>=document.documentElement.clientWidth)return B.value=!0,j(b,f)}return Z(b,f)}}},H=()=>{const g=ue(a);if(g){const{height:b}=D.value,{top:f,height:s}=g.getBoundingClientRect(),x=window.innerHeight-f-s,i=f;return b<=x?_e.bottom:b>x&&b<=i?_e.top:x>=i?_e.bottom:_e.top}return _e.bottom},k=g=>H()===_e.bottom?v(g):F(g),T=()=>{const g=ue(a);if(g)return m.autoPosition?k(g):v(g)},I=function(g){if(g){const b=g.scrollHeight>g.clientHeight,s=window.getComputedStyle(g).overflowY.indexOf("hidden")!==-1;return b&&!s}return!0},X=function(g){return!g||g===document.body||g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:I(g)?g:X(g.parentNode)},p=g=>{if(g)switch(m.position){case ze.left:return{left:0,transform:"translateX(0)"};case ze.right:return{left:`${g.width}px`,transform:"translateX(-100%)"};default:return{left:`${g.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:R,menuStyle:h,xCorrect:B,setMenuPosition:L,getScrollableParent:X,shadowRender:(g,b)=>{var N,_,$;const f=document.createElement("div"),s=(N=ue(a))==null?void 0:N.getBoundingClientRect();f.setAttribute("id","dp--temp-container");const S=(_=n.value)!=null&&_.clientWidth?n.value:document.body;S.append(f);const x=document.getElementById("dp--temp-container"),i=p(s),u=e.h(g,{...b,shadow:!0,style:{opacity:0,position:"absolute",...i}},Object.fromEntries(Object.keys(y).map(J=>[J,y[J]])));e.render(u,x),D.value=($=u.el)==null?void 0:$.getBoundingClientRect(),e.render(null,x),S.removeChild(x)}}},Re=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],vr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ar={all:()=>Re,monthYear:()=>Re.filter(t=>t.use.includes("month-year")),input:()=>vr,timePicker:()=>Re.filter(t=>t.use.includes("time")),action:()=>Re.filter(t=>t.use.includes("action")),calendar:()=>Re.filter(t=>t.use.includes("calendar")),menu:()=>Re.filter(t=>t.use.includes("menu")),shared:()=>Re.filter(t=>t.use.includes("shared"))},Me=(t,r,a)=>{const n=[];return Ar[r]().forEach(o=>{t[o.name]&&n.push(o.name)}),a!=null&&a.length&&a.forEach(o=>{o.slot&&n.push(o.slot)}),n},Ue=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},et=(t,r)=>{const a=e.ref([{month:d.getMonth(A()),year:d.getYear(A())}]),n=e.reactive({hours:t.range?[d.getHours(A()),d.getHours(A())]:d.getHours(A()),minutes:t.range?[d.getMinutes(A()),d.getMinutes(A())]:d.getMinutes(A()),seconds:t.range?[0,0]:0}),o=e.computed({get:()=>t.internalModelValue,set:y=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",y)}}),l=e.computed(()=>y=>a.value[y]?a.value[y].month:0),m=e.computed(()=>y=>a.value[y]?a.value[y].year:0);return{calendars:a,time:n,modelValue:o,month:l,year:m}},Nr=(t,r)=>{const{defaultedMultiCalendars:a}=de(r),{isDisabled:n,matchDate:o}=We(r),l=e.ref(null),m=e.ref(A()),y=s=>{!s.current&&r.hideOffsetDates||(l.value=s.value)},D=()=>{l.value=null},B=s=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?s?ge(l.value,t.value[0]):fe(l.value,t.value[0]):!0,h=(s,S)=>{const x=()=>t.value?S?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?x():null;return ne(A(s.value),i)},R=s=>{const S=Array.isArray(t.value)?t.value[0]:null;return s?!fe(l.value??null,S):!0},P=(s,S=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!s.current?!1:ne(A(s.value),t.value[S?0:1]):r.range?h(s,S)&&R(S)||ne(s.value,Array.isArray(t.value)?t.value[0]:null)&&B(S):!1,W=(s,S,x)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?s?!1:x?ge(t.value[0],S.value):fe(t.value[0],S.value):!1,j=s=>!t.value||r.hideOffsetDates&&!s.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ne(s.value,t.value[0]?t.value[0]:m.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(S=>ne(S,s.value)):ne(s.value,t.value?t.value:m.value),G=s=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!s.current)return!1;const S=d.addDays(l.value,+r.autoRange),x=Je(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ne(x[1],A(s.value)):ne(S,A(s.value))}return!1}return!1},Z=s=>{if(r.autoRange||r.weekPicker){if(l.value){const S=d.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!s.current)return!1;const x=Je(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ge(s.value,x[0])&&fe(s.value,x[1]):ge(s.value,l.value)&&fe(s.value,S)}return!1}return!1},w=s=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!s.current)return!1;const S=Je(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ne(S[0],s.value):ne(l.value,s.value)}return!1}return!1},C=s=>St(t.value,l.value,s.value),Y=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,L=()=>r.modelAuto?un(r.internalModelValue):!0,U=s=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const S=r.range?!P(s)&&!P(s,!1):!0;return!n(s.value)&&!j(s)&&!(!s.current&&r.hideOffsetDates)&&S},v=s=>r.range?r.modelAuto?Y()&&j(s):!1:j(s),F=s=>{var S;return r.highlight?o(s.value,(S=r.arrMapValues)!=null&&S.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},q=s=>n(s.value)&&r.highlightDisabledDays===!1,H=s=>{var S;return(S=r.highlightWeekDays)==null?void 0:S.includes(s.value.getDay())},k=s=>(r.range||r.weekPicker)&&(!(a.value.count>0)||s.current)&&L()&&!(!s.current&&r.hideOffsetDates)&&!j(s)?C(s):!1,T=s=>{const{isRangeStart:S,isRangeEnd:x}=p(s),i=r.range?S||x:!1;return{dp__cell_offset:!s.current,dp__pointer:!r.disabled&&!(!s.current&&r.hideOffsetDates)&&!n(s.value),dp__cell_disabled:n(s.value),dp__cell_highlight:!q(s)&&(F(s)||H(s))&&!v(s)&&!i,dp__cell_highlight_active:!q(s)&&(F(s)||H(s))&&v(s),dp__today:!r.noToday&&ne(s.value,m.value)&&s.current}},I=s=>({dp__active_date:v(s),dp__date_hover:U(s)}),X=s=>({...V(s),...g(s),dp__range_between_week:k(s)&&r.weekPicker}),p=s=>{const S=a.value.count>0?s.current&&P(s)&&L():P(s)&&L(),x=a.value.count>0?s.current&&P(s,!1)&&L():P(s,!1)&&L();return{isRangeStart:S,isRangeEnd:x}},V=s=>{const{isRangeStart:S,isRangeEnd:x}=p(s);return{dp__range_start:S,dp__range_end:x,dp__range_between:k(s)&&!r.weekPicker,dp__date_hover_start:W(U(s),s,!0),dp__date_hover_end:W(U(s),s,!1)}},g=s=>({...V(s),dp__cell_auto_range:Z(s),dp__cell_auto_range_start:w(s),dp__cell_auto_range_end:G(s)}),b=s=>r.range?r.autoRange?g(s):r.modelAuto?{...I(s),...V(s)}:V(s):r.weekPicker?X(s):I(s);return{setHoverDate:y,clearHoverDate:D,getDayClassData:s=>r.hideOffsetDates&&!s.current?{}:{...T(s),...b(s),[r.dayClass?r.dayClass(s.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},We=t=>{const{defaultedFilters:r}=de(t),a=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},n=k=>{const T=ye(o(A(k))).toISOString(),[I]=T.split("T");return I},o=k=>t.utc==="preserve"?pn(k,a()):De(k,a()),l=k=>{var S;const T=t.maxDate?ge(o(k),o(A(t.maxDate))):!1,I=t.minDate?fe(o(k),o(A(t.minDate))):!1,X=B(o(k),(S=t.arrMapValues)!=null&&S.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),V=r.value.months.map(x=>+x).includes(d.getMonth(k)),g=t.disabledWeekDays.length?t.disabledWeekDays.some(x=>+x===d.getDay(k)):!1,b=R(k),f=d.getYear(k),s=f<+t.yearRange[0]||f>+t.yearRange[1];return!(T||I||X||V||s||g||b)},m=(k,T)=>fe(...ve(t.minDate,k,T))||ne(...ve(t.minDate,k,T)),y=(k,T)=>ge(...ve(t.maxDate,k,T))||ne(...ve(t.maxDate,k,T)),D=(k,T,I)=>{let X=!1;return t.maxDate&&I&&y(k,T)&&(X=!0),t.minDate&&!I&&m(k,T)&&(X=!0),X},B=(k,T)=>k?T instanceof Map?!!T.get(n(k)):Array.isArray(T)?T.some(I=>ne(o(A(I)),o(k))):T?T(A(JSON.parse(JSON.stringify(k)))):!1:!0,h=(k,T,I,X)=>{let p=!1;return X?t.minDate&&t.maxDate?p=D(k,T,I):(t.minDate&&m(k,T)||t.maxDate&&y(k,T))&&(p=!0):p=!0,p},R=k=>{var T,I,X,p,V;return Array.isArray(t.allowedDates)&&!((T=t.allowedDates)!=null&&T.length)?!0:(I=t.arrMapValues)!=null&&I.allowedDates?!B(k,(X=t.arrMapValues)==null?void 0:X.allowedDates):(p=t.allowedDates)!=null&&p.length?!((V=t.allowedDates)!=null&&V.some(g=>ne(o(A(g)),o(k)))):!1},P=k=>!l(k),W=k=>t.noDisabledRange?!d.eachDayOfInterval({start:k[0],end:k[1]}).some(I=>P(I)):!0,j=(k,T,I=0)=>{if(Array.isArray(T)&&T[I]){const X=d.differenceInCalendarDays(k,T[I]),p=yn(T[I],k),V=p.length===1?0:p.filter(b=>P(b)).length,g=Math.abs(X)-V;if(t.minRange&&t.maxRange)return g>=+t.minRange&&g<=+t.maxRange;if(t.minRange)return g>=+t.minRange;if(t.maxRange)return g<=+t.maxRange}return!0},G=k=>new Map(k.map(T=>[n(T),!0])),Z=k=>Array.isArray(k)&&k.length>0,w=()=>{const k={disabledDates:null,allowedDates:null,highlightedDates:null};return Z(t.allowedDates)&&(k.allowedDates=G(t.allowedDates)),Z(t.highlight)&&(k.highlightedDates=G(t.highlight)),Z(t.disabledDates)&&(k.disabledDates=G(t.disabledDates)),k},C=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,Y=k=>Array.isArray(k)?[k[0]?vt(k[0]):null,k[1]?vt(k[1]):null]:vt(k),L=(k,T,I)=>k.find(X=>+X.hours===d.getHours(T)&&X.minutes==="*"?!0:+X.minutes===d.getMinutes(T))&&I,U=(k,T,I)=>{const[X,p]=k,[V,g]=T;return!L(X,V,I)&&!L(p,g,I)&&I},v=(k,T)=>{const I=Array.isArray(T)?T:[T];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?U(t.disabledTimes,I,k):!I.some(X=>L(t.disabledTimes,X,k)):k},F=(k,T)=>{const I=Array.isArray(T)?[Pe(T[0]),T[1]?Pe(T[1]):void 0]:Pe(T),X=!t.disabledTimes(I);return k&&X},q=(k,T)=>t.disabledTimes?Array.isArray(t.disabledTimes)?v(T,k):F(T,k):T;return{isDisabled:P,validateDate:l,validateMonthYearInRange:h,isDateRangeAllowed:W,checkMinMaxRange:j,matchDate:B,mapDatesArrToMap:w,isValidTime:k=>{let T=!0;if(!k||C())return!0;const I=!t.minDate&&!t.maxDate?Y(k):k;return(t.maxTime||t.maxDate)&&(T=Mn(t.maxTime,t.maxDate,"max",ie(I),T)),(t.minTime||t.minDate)&&(T=Mn(t.minTime,t.minDate,"min",ie(I),T)),q(k,T)}}},tt=()=>{const t=e.computed(()=>(n,o)=>n==null?void 0:n.includes(o)),r=e.computed(()=>(n,o)=>n.count?n.solo?!0:o===0:!0),a=e.computed(()=>(n,o)=>n.count?n.solo?!0:o===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},Pr=(t,r,a)=>{const n=e.ref(0),o=e.reactive({[Ee.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ee.calendar]:!1,[Ee.header]:!1}),l=h=>{var R;(R=t.flow)!=null&&R.length&&(o[h]=!0,Object.keys(o).filter(P=>!o[P]).length||B())},m=()=>{var h;(h=t.flow)!=null&&h.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),B())},y=()=>{n.value=-1},D=(h,R,...P)=>{t.flow[n.value]===h&&a.value&&a.value[R](...P)},B=()=>{D(Ce.month,"toggleMonthPicker",!0),D(Ce.year,"toggleYearPicker",!0),D(Ce.calendar,"toggleTimePicker",!1,!0),D(Ce.time,"toggleTimePicker",!0,!0);const h=t.flow[n.value];(h===Ce.hours||h===Ce.minutes||h===Ce.seconds)&&D(h,"toggleTimePicker",!0,!0,h)};return{childMount:l,updateFlowStep:m,resetFlow:y,flowStep:n}},nt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0}},Te={...nt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},_r={key:1,class:"dp__input_wrap"},Er=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],Rr={key:2,class:"dp__clear_icon"},Vr=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...nt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:o,defaultedAriaLabels:l,defaultedInline:m,defaultedConfig:y,getDefaultPattern:D,getDefaultStartTime:B}=de(n),h=e.ref(),R=e.ref(null),P=e.ref(!1),W=e.ref(!1),j=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!o.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:!!n.state,dp__input_invalid:n.state===!1,dp__input_focus:P.value||n.isMenuOpen,dp__input_reg:!o.value.enabled,[n.inputClassName]:!!n.inputClassName})),G=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),h.value=null)},Z=p=>{const V=B();return ur(p,o.value.format??D(),V??kn({},n.enableSeconds),n.inputValue,W.value)},w=p=>{const{rangeSeparator:V}=o.value,[g,b]=p.split(`${V}`);if(g){const f=Z(g.trim()),s=b?Z(b.trim()):null,S=f&&s?[f,s]:[f];h.value=f?S:null}},C=()=>{W.value=!0},Y=p=>{if(n.range)w(p);else if(n.multiDates){const V=p.split(";");h.value=V.map(g=>Z(g.trim())).filter(g=>g)}else h.value=Z(p)},L=p=>{var g;const V=typeof p=="string"?p:(g=p.target)==null?void 0:g.value;V!==""?(o.value.openMenu&&!n.isMenuOpen&&a("open"),Y(V),a("set-input-date",h.value)):G(),W.value=!1,a("update:input-value",V)},U=p=>{o.value.enabled?(Y(p.target.value),o.value.enterSubmit&&$t(h.value)&&n.inputValue!==""?(a("set-input-date",h.value,!0),h.value=null):o.value.enterSubmit&&n.inputValue===""&&(h.value=null,a("clear"))):q(p)},v=p=>{o.value.enabled&&o.value.tabSubmit&&Y(p.target.value),o.value.tabSubmit&&$t(h.value)&&n.inputValue!==""?(a("set-input-date",h.value,!0),h.value=null):o.value.tabSubmit&&n.inputValue===""&&(h.value=null,a("clear"))},F=()=>{P.value=!0,a("focus")},q=p=>{p.preventDefault(),$e(p,y.value,!0),o.value.enabled&&o.value.openMenu&&!m.value.input&&!n.isMenuOpen?a("open"):o.value.enabled||a("toggle")},H=()=>{a("real-blur"),P.value=!1,(!n.isMenuOpen||m.value.enabled&&m.value.input)&&a("blur"),n.autoApply&&o.value.enabled&&h.value&&!n.isMenuOpen&&(a("set-input-date",h.value),a("select-date"),h.value=null)},k=p=>{$e(p,y.value,!0),a("clear")},T=p=>{if(!o.value.enabled){if(p.code==="Tab")return;p.preventDefault()}};return r({focusInput:()=>{var p;(p=R.value)==null||p.focus({preventScroll:!0})},setParsedDate:p=>{h.value=p}}),(p,V)=>{var g;return e.openBlock(),e.createElementBlock("div",{onClick:q},[p.$slots.trigger&&!p.$slots["dp-input"]&&!e.unref(m).enabled?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!e.unref(m).enabled||e.unref(m).input)?(e.openBlock(),e.createElementBlock("div",_r,[p.$slots["dp-input"]&&!p.$slots.trigger&&!e.unref(m).enabled?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:L,onEnter:U,onTab:v,onClear:k,onBlur:H,onKeypress:T,onPaste:C}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:R,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(j.value),inputmode:e.unref(o).enabled?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,"aria-label":(g=e.unref(l))==null?void 0:g.input,"aria-disabled":p.disabled||void 0,"aria-invalid":p.state===!1?!0:void 0,onInput:L,onKeydown:[e.withKeys(U,["enter"]),e.withKeys(v,["tab"]),T],onBlur:H,onFocus:F,onKeypress:T,onPaste:C},null,42,Er)),e.createElementVNode("div",{onClick:V[2]||(V[2]=b=>a("toggle"))},[p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:V[0]||(V[0]=b=>a("toggle"))},[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(He),{key:1,onClick:V[1]||(V[1]=b=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",Rr,[e.renderSlot(p.$slots,"clear-icon",{clear:k})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(qt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:V[3]||(V[3]=e.withModifiers(b=>k(b),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Or=["title"],Yr={class:"dp__action_buttons"},Ir=["onKeydown","disabled"],zr=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Te},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:o,defaultedMultiCalendars:l,defaultedTextInput:m,defaultedInline:y,getDefaultPattern:D}=de(a),{isValidTime:B}=We(a),{buildMatrix:h}=Ae(),R=e.ref(null),P=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&h([ue(R),ue(P)],"actionRow")});const W=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),j=e.computed(()=>!G.value||!Z.value||!W.value),G=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:B(a.internalModelValue)),Z=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(k=>!F(k)).length:F(a.internalModelValue):!0),w=()=>{const H=o.value;return a.timePicker||a.monthPicker,H(ie(a.internalModelValue))},C=()=>{const H=a.internalModelValue;return l.value.count>0?`${Y(H[0])} - ${Y(H[1])}`:[Y(H[0]),Y(H[1])]},Y=H=>bn(H,o.value,a.formatLocale,m.value.rangeSeparator,a.modelAuto,D()),L=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof o.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?C():a.multiDates?a.internalModelValue.map(H=>`${Y(H)}`):a.modelAuto?`${Y(a.internalModelValue[0])}`:`${Y(a.internalModelValue[0])} -`:Y(a.internalModelValue):w()),U=()=>a.multiDates?"; ":" - ",v=e.computed(()=>Array.isArray(L.value)?L.value.join(U()):L.value),F=H=>{if(!a.monthPicker)return!0;let k=!0;const T=A(we(H));if(a.minDate&&a.maxDate){const I=A(we(a.minDate)),X=A(we(a.maxDate));return ge(T,I)&&fe(T,X)||ne(T,I)||ne(T,X)}if(a.minDate){const I=A(we(a.minDate));k=ge(T,I)||ne(T,I)}if(a.maxDate){const I=A(we(a.maxDate));k=fe(T,I)||ne(T,I)}return k},q=()=>{G.value&&Z.value&&W.value?r("select-date"):r("invalid-select")};return(H,k)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[H.$slots["action-row"]?e.renderSlot(H.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:H.internalModelValue,disabled:j.value,selectDate:()=>H.$emit("select-date"),closePicker:()=>H.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:v.value},[H.$slots["action-preview"]?e.renderSlot(H.$slots,"action-preview",{key:0,value:H.internalModelValue}):e.createCommentVNode("",!0),H.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(v.value),1)],64))],8,Or)):e.createCommentVNode("",!0),e.createElementVNode("div",Yr,[H.$slots["action-buttons"]?e.renderSlot(H.$slots,"action-buttons",{key:0,value:H.internalModelValue}):e.createCommentVNode("",!0),H.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(y).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:R,class:"dp__action_button dp__action_cancel",onClick:k[0]||(k[0]=T=>H.$emit("close-picker")),onKeydown:[k[1]||(k[1]=e.withKeys(T=>H.$emit("close-picker"),["enter"])),k[2]||(k[2]=e.withKeys(T=>H.$emit("close-picker"),["space"]))]},e.toDisplayString(H.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:R,class:"dp__action_button dp__action_cancel",onClick:k[3]||(k[3]=T=>H.$emit("select-now")),onKeydown:[k[4]||(k[4]=e.withKeys(T=>H.$emit("select-now"),["enter"])),k[5]||(k[5]=e.withKeys(T=>H.$emit("select-now"),["space"]))]},e.toDisplayString(H.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(q,["enter"]),e.withKeys(q,["space"])],onClick:q,disabled:j.value,ref_key:"selectButtonRef",ref:P},e.toDisplayString(H.selectText),41,Ir)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Hr=["onKeydown"],Lr={class:"dp__selection_grid_header"},Kr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Ur=["aria-label","onKeydown"],je=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:o,buildMultiLevelMatrix:l,setMonthPicker:m}=Ae(),{defaultedAriaLabels:y,defaultedTextInput:D,defaultedConfig:B}=de(n),{hideNavigationButtons:h}=tt(),R=e.ref(!1),P=e.ref(null),W=e.ref(null),j=e.ref([]),G=e.ref(),Z=e.ref(null),w=e.ref(0),C=e.ref(null);e.onBeforeUpdate(()=>{P.value=null}),e.onMounted(()=>{e.nextTick().then(()=>k()),L(),Y(!0)}),e.onUnmounted(()=>Y(!1));const Y=f=>{var s;n.arrowNavigation&&((s=n.headerRefs)!=null&&s.length?m(f):o(f))},L=()=>{var s;const f=ue(W);f&&(D.value.enabled||(P.value?(s=P.value)==null||s.focus({preventScroll:!0}):f.focus({preventScroll:!0})),R.value=f.clientHeight<f.scrollHeight)},U=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),v=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),F=e.computed(()=>({dp__overlay_col:!0})),q=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:R.value,dp__button_bottom:n.isLast})),H=e.computed(()=>{var f,s;return{dp__overlay_container:!0,dp__container_flex:((f=n.items)==null?void 0:f.length)<=6,dp__container_block:((s=n.items)==null?void 0:s.length)>6}}),k=()=>{e.nextTick().then(()=>{const f=ue(P),s=ue(W),S=ue(Z),x=ue(C),i=S?S.getBoundingClientRect().height:0;s&&(w.value=s.getBoundingClientRect().height-i),f&&x&&(x.scrollTop=f.offsetTop-x.offsetTop-(w.value/2-f.getBoundingClientRect().height)-i)})},T=f=>{f.disabled||a("selected",f.value)},I=()=>{a("toggle"),a("reset-flow")},X=()=>{n.escClose&&I()},p=(f,s,S,x)=>{f&&(s.active&&(P.value=f),n.arrowNavigation&&(Array.isArray(j.value[S])?j.value[S][x]=f:j.value[S]=[f],V()))},V=()=>{var s,S;const f=(s=n.headerRefs)!=null&&s.length?[n.headerRefs].concat(j.value):j.value.concat([n.skipButtonRef?[]:[Z.value]]);l(ie(f),(S=n.headerRefs)!=null&&S.length?"monthPicker":"selectionGrid")},g=f=>{n.arrowNavigation||$e(f,B.value,!0)},b=f=>{G.value=f,a("hover-value",f)};return r({focusGrid:L}),(f,s)=>{var S;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:W,class:e.normalizeClass(U.value),style:e.normalizeStyle(v.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(X,["prevent"]),["esc"]),s[0]||(s[0]=e.withKeys(e.withModifiers(x=>g(x),["prevent"]),["left"])),s[1]||(s[1]=e.withKeys(e.withModifiers(x=>g(x),["prevent"]),["up"])),s[2]||(s[2]=e.withKeys(e.withModifiers(x=>g(x),["prevent"]),["down"])),s[3]||(s[3]=e.withKeys(e.withModifiers(x=>g(x),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(H.value),ref_key:"containerRef",ref:C,role:"grid",style:e.normalizeStyle({height:`${w.value}px`})},[e.createElementVNode("div",Lr,[e.renderSlot(f.$slots,"header")]),f.$slots.overlay?e.renderSlot(f.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(f.items,(x,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:f.items.length>=3}]),key:i,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(x,(u,N)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(F.value),key:u.value,"aria-selected":u.active,"aria-disabled":u.disabled||void 0,ref_for:!0,ref:_=>p(_,u,i,N),tabindex:"0",onClick:_=>T(u),onKeydown:[e.withKeys(e.withModifiers(_=>T(u),["prevent"]),["enter"]),e.withKeys(e.withModifiers(_=>T(u),["prevent"]),["space"])],onMouseover:_=>b(u.value)},[e.createElementVNode("div",{class:e.normalizeClass(u.className)},[f.$slots.item?e.renderSlot(f.$slots,"item",{key:0,item:u}):e.createCommentVNode("",!0),f.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(u.text),1)],64))],2)],42,Kr))),128))],2))),128))],6),f.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button","aria-label":(S=e.unref(y))==null?void 0:S.toggleOverlay,class:e.normalizeClass(q.value),tabindex:"0",ref_key:"toggleButton",ref:Z,onClick:I,onKeydown:[e.withKeys(I,["enter"]),e.withKeys(I,["tab"])]},[e.renderSlot(f.$slots,"button-icon")],42,Ur)),[[e.vShow,!e.unref(h)(f.hideNavigation,f.type)]]):e.createCommentVNode("",!0)],46,Hr)}}}),Et=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!o.stretch,"dp--menu--inner-stretched":o.stretch,dp__flex_display:o.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,y)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:e.normalizeClass(n.value)},[e.renderSlot(o.$slots,"default",{instance:m,index:y})],2))),128))],2))}}),Wr=["aria-label","aria-disabled"],xe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,o)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:o[0]||(o[0]=l=>n.$emit("activate")),onKeydown:[o[1]||(o[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled||void 0,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Wr))}}),Rt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ne(t,n))){const n=r.value.filter(o=>!ne(o,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},Tn=(t,r,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?fe(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n,n},Vt=(t,r,a,n)=>{t[0]&&t[1]&&a&&r("auto-apply"),t[0]&&!t[1]&&n&&a&&r("auto-apply")},jr=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:l}=de(t),{modelValue:m,year:y,month:D,calendars:B}=et(t,r),h=e.computed(()=>sn(t.formatLocale,t.locale,t.monthNameFormat)),R=e.computed(()=>Ct(t.yearRange,t.reverseYears)),P=e.ref(null),W=()=>{for(let g=0;g<a.value.count;g++)if(g===0)B.value[g]=B.value[0];else{const b=d.set(A(),B.value[g-1]);B.value[g]={month:d.getMonth(b),year:d.getYear(d.addYears(b,g))}}},j=g=>{if(!g)return W();const b=d.set(A(),B.value[g]);return B.value[0].year=d.getYear(d.subYears(b,a.value.count-1)),W()},G=g=>t.focusStartDate?g[0]:g[1]?g[1]:g[0],Z=()=>{if(m.value){const g=Array.isArray(m.value)?G(m.value):m.value;B.value[0]={month:d.getMonth(g),year:d.getYear(g)}}};e.onMounted(()=>{Z(),a.value.count&&W()});const w=e.computed(()=>(g,b)=>{const f=d.set(we(new Date),{month:D.value(g),year:y.value(g)});return wn(f,t.maxDate,t.minDate,t.preventMinMaxNavigation,b)}),C=g=>g?{month:d.getMonth(g),year:d.getYear(g)}:{month:null,year:null},Y=()=>m.value?Array.isArray(m.value)?m.value.map(g=>C(g)):C(m.value):C(),L=(g,b)=>{const f=B.value[g],s=Y();return Array.isArray(s)?s.some(S=>S.year===(f==null?void 0:f.year)&&S.month===b):(f==null?void 0:f.year)===s.year&&b===s.month},U=(g,b,f)=>{var S,x;const s=Y();return Array.isArray(s)?y.value(b)===((S=s[f])==null?void 0:S.year)&&g===((x=s[f])==null?void 0:x.month):!1},v=(g,b)=>{if(t.range){const f=Y();if(Array.isArray(m.value)&&Array.isArray(f)){const s=U(g,b,0)||U(g,b,1),S=Se(we(A()),g,y.value(b));return St(m.value,P.value,S)&&!s}return!1}return!1},F=e.computed(()=>g=>Oe(h.value,b=>{const f=L(g,b.value),s=Le(b.value,mn(y.value(g),t.minDate),gn(y.value(g),t.maxDate))||pr(t.disabledDates,y.value(g)).includes(b.value),S=v(b.value,g);return{active:f,disabled:s,isBetween:S}})),q=e.computed(()=>g=>Oe(R.value,b=>{const f=y.value(g)===b.value,s=Le(b.value,Ye(t.minDate),Ye(t.maxDate));return{active:f,disabled:s}})),H=(g,b)=>Se(we(A()),g,y.value(b)),k=(g,b)=>{const f=m.value?m.value:we(new Date);m.value=Se(f,g,y.value(b)),r("auto-apply")},T=(g,b)=>{const f=Tn(m,H(g,b),r);Vt(f,r,t.autoApply,t.modelAuto)},I=(g,b)=>{Rt(H(g,b),m,t.multiDatesLimit),r("auto-apply",!0)};return{groupedMonths:F,groupedYears:q,year:y,isDisabled:w,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:l,setHoverDate:(g,b)=>{P.value=H(g,b)},selectMonth:(g,b)=>(B.value[b].month=g,t.multiDates?I(g,b):t.range?T(g,b):k(g,b)),selectYear:(g,b)=>{B.value[b].year=g,a.value.count&&!a.value.solo&&j(b)}}},xr={class:"dp__month_picker_header"},Gr=["aria-label","onClick","onKeydown"],qr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Te},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedMonths:n,groupedYears:o,year:l,isDisabled:m,defaultedMultiCalendars:y,defaultedAriaLabels:D,defaultedTransitions:B,defaultedConfig:h,setHoverDate:R,selectMonth:P,selectYear:W}=jr(a,r),{transitionName:j,showTransition:G}=Ue(B),{showRightIcon:Z,showLeftIcon:w}=tt(),C=e.ref([!1]),Y=(v,F)=>{W(v,F),U(F)},L=(v,F=!1)=>{if(!m.value(v,F)){const q=F?l.value(v)+1:l.value(v)-1;W(q,v)}},U=(v,F=!1,q)=>{F||r("reset-flow"),q!==void 0?C.value[v]=q:C.value[v]=!C.value[v],C.value||r("overlay-closed")};return(v,F)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":e.unref(y).count,stretch:""},{default:e.withCtx(({instance:q})=>[v.$slots["month-year"]?e.renderSlot(v.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(l),months:e.unref(n)(q),years:e.unref(o)(q),selectMonth:e.unref(P),selectYear:e.unref(W),instance:q}))):(e.openBlock(),e.createBlock(je,{key:1,items:e.unref(n)(q),"arrow-navigation":v.arrowNavigation,"is-last":v.autoApply&&!v.keepActionRow&&!e.unref(h).keepActionRow,"esc-close":v.escClose,height:v.modeHeight!==255?v.modeHeight:e.unref(h).modeHeight,config:v.config,onSelected:H=>e.unref(P)(H,q),onHoverValue:H=>e.unref(R)(H,q),"use-relative":"",type:"month"},{header:e.withCtx(()=>{var H,k,T;return[e.createElementVNode("div",xr,[e.unref(w)(e.unref(y),q)?(e.openBlock(),e.createBlock(xe,{key:0,ref:"mpPrevIconRef","aria-label":(H=e.unref(D))==null?void 0:H.prevYear,disabled:e.unref(m)(q,!1),onActivate:I=>L(q,!1)},{default:e.withCtx(()=>[v.$slots["arrow-left"]?e.renderSlot(v.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),v.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(k=e.unref(D))==null?void 0:k.openYearsOverlay,tabindex:"0",onClick:()=>U(q,!1),onKeydown:e.withKeys(()=>U(q,!1),["enter"])},[v.$slots.year?e.renderSlot(v.$slots,"year",{key:0,year:e.unref(l)(q)}):e.createCommentVNode("",!0),v.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(l)(q)),1)],64))],40,Gr),e.unref(Z)(e.unref(y),q)?(e.openBlock(),e.createBlock(xe,{key:1,ref:"mpNextIconRef","aria-label":(T=e.unref(D))==null?void 0:T.nextYear,disabled:e.unref(m)(q,!1),onActivate:I=>L(q,!0)},{default:e.withCtx(()=>[v.$slots["arrow-right"]?e.renderSlot(v.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),v.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(j)(C.value[q]),css:e.unref(G)},{default:e.withCtx(()=>[C.value[q]?(e.openBlock(),e.createBlock(je,{key:0,items:e.unref(o)(q),"text-input":v.textInput,"esc-close":v.escClose,config:v.config,onToggle:I=>U(q),onSelected:I=>Y(I,q),"is-last":v.autoApply&&!v.keepActionRow&&!e.unref(h).keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[v.$slots["calendar-icon"]?e.renderSlot(v.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),v.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))]),_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:I})=>[e.renderSlot(v.$slots,"year-overlay-value",{text:I.text,value:I.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","onToggle","onSelected","is-last"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Zr=(t,r)=>{const{modelValue:a}=et(t,r),n=e.ref(null),o=h=>Array.isArray(a.value)?a.value.some(R=>d.getYear(R)===h):a.value?d.getYear(a.value)===h:!1,l=h=>t.range&&Array.isArray(a.value)?St(a.value,n.value,y(h)):!1,m=e.computed(()=>Oe(Ct(t.yearRange,t.reverseYears),h=>{const R=o(h.value),P=Le(h.value,Ye(t.minDate),Ye(t.maxDate)),W=l(h.value);return{active:R,disabled:P,isBetween:W}})),y=h=>d.setYear(we(new Date),h);return{groupedYears:m,setHoverValue:h=>{n.value=d.setYear(we(new Date),h)},selectYear:h=>{if(t.multiDates)return Rt(y(h),a,t.multiDatesLimit),r("auto-apply",!0);if(t.range){const R=Tn(a,y(h),r);return Vt(R,r,t.autoApply,t.modelAuto)}a.value=y(h),r("auto-apply")}}},Xr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Te},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:o,setHoverValue:l}=Zr(a,r),{defaultedConfig:m}=de(a);return(y,D)=>(e.openBlock(),e.createElementBlock("div",null,[y.$slots["month-year"]?e.renderSlot(y.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(n),selectYear:e.unref(o)}))):(e.openBlock(),e.createBlock(je,{key:1,items:e.unref(n),"is-last":y.autoApply&&!y.keepActionRow&&!e.unref(m).keepActionRow,height:y.modeHeight!==255?y.modeHeight:e.unref(m).modeHeight,config:y.config,type:"year","use-relative":"",onSelected:e.unref(o),onHoverValue:e.unref(l)},e.createSlots({_:2},[y.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:B})=>[e.renderSlot(y.$slots,"year-overlay-value",{text:B.text,value:B.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","onSelected","onHoverValue"]))]))}}),Jr={key:0,class:"dp__time_input"},Qr=["aria-label","onKeydown","onClick"],Fr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ta=["aria-label","disabled","onKeydown","onClick"],na=["aria-label","onKeydown","onClick"],ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),aa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),oa={key:0},la=["aria-label","onKeydown"],sa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},...Te},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:o,setTimePickerBackRef:l}=Ae(),{defaultedAriaLabels:m,defaultedTransitions:y,defaultedFilters:D,defaultedConfig:B}=de(n),{transitionName:h,showTransition:R}=Ue(y),P=e.reactive({hours:!1,minutes:!1,seconds:!1}),W=e.ref("AM"),j=e.ref(null),G=e.ref([]);e.onMounted(()=>{a("mounted")});const Z=u=>d.set(new Date,{hours:u.hours,minutes:u.minutes,seconds:n.enableSeconds?u.seconds:0,milliseconds:0}),w=e.computed(()=>u=>T(u,n[u])),C=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),Y=e.computed(()=>u=>!X(+n[u]+ +n[`${u}Increment`],u)),L=e.computed(()=>u=>!X(+n[u]-+n[`${u}Increment`],u)),U=(u,N)=>d.add(d.set(A(),u),N),v=(u,N)=>d.sub(d.set(A(),u),N),F=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),q=e.computed(()=>{const u=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?u.concat([{type:"",separator:!0},{type:"seconds"}]):u}),H=e.computed(()=>q.value.filter(u=>!u.separator)),k=e.computed(()=>u=>{if(u==="hours"){const N=f(+n.hours);return{text:N<10?`0${N}`:`${N}`,value:N}}return{text:n[u]<10?`0${n[u]}`:`${n[u]}`,value:n[u]}}),T=(u,N)=>{var $;if(!n.disabledTimesConfig)return!1;const _=n.disabledTimesConfig(n.order,u==="hours"?N:void 0);return _[u]?!!(($=_[u])!=null&&$.includes(N)):!0},I=u=>{const N=n.is24?24:12,_=u==="hours"?N:60,$=+n[`${u}GridIncrement`],J=u==="hours"&&!n.is24?$:0,O=[];for(let te=J;te<_;te+=$)O.push({value:te,text:te<10?`0${te}`:`${te}`});return u==="hours"&&!n.is24&&O.push({value:0,text:"12"}),Oe(O,te=>({active:!1,disabled:D.value.times[u].includes(te.value)||!X(te.value,u)||T(u,te.value)}))},X=(u,N)=>{const _=n.minTime?Z(Tt(n.minTime)):null,$=n.maxTime?Z(Tt(n.maxTime)):null,J=Z(Tt(C.value,N,u));return _&&$?(d.isBefore(J,$)||d.isEqual(J,$))&&(d.isAfter(J,_)||d.isEqual(J,_)):_?d.isAfter(J,_)||d.isEqual(J,_):$?d.isBefore(J,$)||d.isEqual(J,$):!0},p=u=>n[`no${u[0].toUpperCase()+u.slice(1)}Overlay`],V=u=>{p(u)||(P[u]=!P[u],P[u]||a("overlay-closed"))},g=u=>u==="hours"?d.getHours:u==="minutes"?d.getMinutes:d.getSeconds,b=(u,N=!0)=>{const _=N?U:v,$=N?+n[`${u}Increment`]:-+n[`${u}Increment`];X(+n[u]+$,u)&&a(`update:${u}`,g(u)(_({[u]:+n[u]},{[u]:+n[`${u}Increment`]})))},f=u=>n.is24?u:(u>=12?W.value="PM":W.value="AM",or(u)),s=()=>{W.value==="PM"?(W.value="AM",a("update:hours",n.hours-12)):(W.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",W.value)},S=u=>{P[u]=!0},x=(u,N,_)=>{if(u&&n.arrowNavigation){Array.isArray(G.value[N])?G.value[N][_]=u:G.value[N]=[u];const $=G.value.reduce((J,O)=>O.map((te,ae)=>[...J[ae]||[],O[ae]]),[]);l(n.closeTimePickerBtn),j.value&&($[1]=$[1].concat(j.value)),o($,n.order)}},i=(u,N)=>(V(u),u==="hours"&&!n.is24?a(`update:${u}`,W.value==="PM"?N+12:N):a(`update:${u}`,N));return r({openChildCmp:S}),(u,N)=>{var _;return u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Jr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(q.value,($,J)=>{var O,te,ae;return e.openBlock(),e.createElementBlock("div",{key:J,class:e.normalizeClass(F.value)},[$.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:Y.value($.type)}),"aria-label":(O=e.unref(m))==null?void 0:O.incrementValue($.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(re=>b($.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(re=>b($.type),["prevent"]),["space"])],onClick:re=>b($.type),ref_for:!0,ref:re=>x(re,J,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Fr,ea],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))],64))],42,Qr),e.createElementVNode("button",{type:"button","aria-label":(te=e.unref(m))==null?void 0:te.openTpOverlay($.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline,"dp--time-invalid":w.value($.type),"dp--time-overlay-btn":!w.value($.type)}),disabled:p($.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(re=>V($.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(re=>V($.type),["prevent"]),["space"])],onClick:re=>V($.type),ref_for:!0,ref:re=>x(re,J,1)},[u.$slots[$.type]?e.renderSlot(u.$slots,$.type,{key:0,text:k.value($.type).text,value:k.value($.type).value}):e.createCommentVNode("",!0),u.$slots[$.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(k.value($.type).text),1)],64))],42,ta),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:L.value($.type)}),"aria-label":(ae=e.unref(m))==null?void 0:ae.decrementValue($.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(re=>b($.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(re=>b($.type,!1),["prevent"]),["space"])],onClick:re=>b($.type,!1),ref_for:!0,ref:re=>x(re,J,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ra,aa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[u.$slots["arrow-down"]?e.renderSlot(u.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ut),{key:1}))],64))],42,na)],64))],2)}),128)),u.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",oa,[u.$slots["am-pm-button"]?e.renderSlot(u.$slots,"am-pm-button",{key:0,toggle:s,value:W.value}):e.createCommentVNode("",!0),u.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:j,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(_=e.unref(m))==null?void 0:_.amPmButton,tabindex:"0",onClick:s,onKeydown:[e.withKeys(e.withModifiers(s,["prevent"]),["enter"]),e.withKeys(e.withModifiers(s,["prevent"]),["space"])]},e.toDisplayString(W.value),41,la))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,($,J)=>(e.openBlock(),e.createBlock(e.Transition,{key:J,name:e.unref(h)(P[$.type]),css:e.unref(R)},{default:e.withCtx(()=>[P[$.type]?(e.openBlock(),e.createBlock(je,{key:0,items:I($.type),"is-last":u.autoApply&&!u.keepActionRow&&!e.unref(B).keepActionRow,"esc-close":u.escClose,type:$.type,"text-input":u.textInput,config:u.config,"arrow-navigation":u.arrowNavigation,onSelected:O=>i($.type,O),onToggle:O=>V($.type),onResetFlow:N[0]||(N[0]=O=>u.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["clock-icon"]?e.renderSlot(u.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))]),_:2},[u.$slots[`${$.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:O})=>[e.renderSlot(u.$slots,`${$.type}-overlay-value`,{text:O.text,value:O.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),ia=["aria-label"],ua=["tabindex"],ca=["aria-label"],$n=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},...Te},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:o,setTimePicker:l}=Ae(),m=e.useSlots(),{defaultedTransitions:y,defaultedAriaLabels:D,defaultedTextInput:B,defaultedConfig:h}=de(n),{transitionName:R,showTransition:P}=Ue(y),{hideNavigationButtons:W}=tt(),j=e.ref(null),G=e.ref(null),Z=e.ref([]),w=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?o([ue(j.value)],"time"):l(!0,n.timePicker)});const C=e.computed(()=>n.range&&n.modelAuto?un(n.internalModelValue):!0),Y=e.ref(!1),L=p=>({hours:Array.isArray(n.hours)?n.hours[p]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[p]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[p]:n.seconds}),U=e.computed(()=>{const p=[];if(n.range)for(let V=0;V<2;V++)p.push(L(V));else p.push(L(0));return p}),v=(p,V=!1,g="")=>{V||a("reset-flow"),Y.value=p,a(p?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(p),e.nextTick(()=>{g!==""&&Z.value[0]&&Z.value[0].openChildCmp(g)})},F=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow&&!h.value.keepActionRow})),q=Me(m,"timePicker"),H=(p,V,g)=>n.range?V===0?[p,U.value[1][g]]:[U.value[0][g],p]:p,k=p=>{a("update:hours",p)},T=p=>{a("update:minutes",p)},I=p=>{a("update:seconds",p)},X=()=>{if(w.value&&!B.value.enabled){const p=sr(w.value);p&&p.focus({preventScroll:!0})}};return r({toggleTimePicker:v}),(p,V)=>{var g;return e.openBlock(),e.createElementBlock("div",null,[!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(F.value),"aria-label":(g=e.unref(D))==null?void 0:g.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:j,onKeydown:[V[0]||(V[0]=e.withKeys(b=>v(!0),["enter"])),V[1]||(V[1]=e.withKeys(b=>v(!0),["space"]))],onClick:V[2]||(V[2]=b=>v(!0))},[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))],42,ia)),[[e.vShow,!e.unref(W)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(R)(Y.value),css:e.unref(P)&&!p.timePickerInline},{default:e.withCtx(()=>{var b;return[Y.value||p.timePicker||p.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!p.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!p.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(p.timePicker?{height:`${p.modeHeight!==255?p.modeHeight:e.unref(h).modeHeight}px`}:void 0),ref_key:"overlayRef",ref:w,tabindex:p.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(p.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[p.$slots["time-picker-overlay"]?e.renderSlot(p.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:k,setMinutes:T,setSeconds:I}):e.createCommentVNode("",!0),p.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(p.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(U.value,(f,s)=>e.withDirectives((e.openBlock(),e.createBlock(sa,e.mergeProps({key:s},{...p.$props,order:s,hours:f.hours,minutes:f.minutes,seconds:f.seconds,closeTimePickerBtn:G.value,disabledTimesConfig:t.disabledTimesConfig,disabled:s===0?p.fixedStart:p.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"onUpdate:hours":S=>k(H(S,s,"hours")),"onUpdate:minutes":S=>T(H(S,s,"minutes")),"onUpdate:seconds":S=>I(H(S,s,"seconds")),onMounted:X,onOverlayClosed:X,onAmPmChange:V[3]||(V[3]=S=>p.$emit("am-pm-change",S))}),e.createSlots({_:2},[e.renderList(e.unref(q),(S,x)=>({name:S,fn:e.withCtx(i=>[e.renderSlot(p.$slots,S,e.normalizeProps(e.guardReactiveProps(i)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,s===0?!0:C.value]])),128))],2)),!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:G,class:e.normalizeClass(F.value),"aria-label":(b=e.unref(D))==null?void 0:b.closeTimePicker,tabindex:"0",onKeydown:[V[4]||(V[4]=e.withKeys(f=>v(!1),["enter"])),V[5]||(V[5]=e.withKeys(f=>v(!1),["space"]))],onClick:V[6]||(V[6]=f=>v(!1))},[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))],42,ca)),[[e.vShow,!e.unref(W)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,ua)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Bn=(t,r,a,n)=>{const o=(w,C)=>Array.isArray(r[w])?r[w][C]:r[w],l=w=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[w]:r.seconds:0,m=(w,C)=>w?C!==void 0?Be(w,o("hours",C),o("minutes",C),l(C)):Be(w,r.hours,r.minutes,l()):A(),y=(w,C)=>{r[w]=C},D=(w,C)=>{const Y=Object.fromEntries(Object.keys(r).map(L=>L===w?[L,C]:[L,r[L]].slice()));if(t.range&&!t.disableTimeRangeValidation){const L=v=>a.value?Be(a.value[v],Y.hours[v],Y.minutes[v],Y.seconds[v]):null,U=v=>d.setMilliseconds(a.value[v],0);return!(ne(L(0),L(1))&&(d.isAfter(L(0),U(1))||d.isBefore(L(1),U(0))))}return!0},B=(w,C)=>{D(w,C)&&(y(w,C),n&&n())},h=w=>{B("hours",w)},R=w=>{B("minutes",w)},P=w=>{B("seconds",w)},W=(w,C,Y,L)=>{C&&h(w),!C&&!Y&&R(w),Y&&P(w),a.value&&L(a.value)},j=w=>{if(w){const C=Array.isArray(w),Y=C?[+w[0].hours,+w[1].hours]:+w.hours,L=C?[+w[0].minutes,+w[1].minutes]:+w.minutes,U=C?[+w[0].seconds,+w[1].seconds]:+w.seconds;y("hours",Y),y("minutes",L),t.enableSeconds&&y("seconds",U)}},G=(w,C)=>{const Y={hours:Array.isArray(r.hours)?r.hours[w]:r.hours,disabledArr:[]};return(C||C===0)&&(Y.hours=C),Array.isArray(t.disabledTimes)&&(Y.disabledArr=t.range&&Array.isArray(t.disabledTimes[w])?t.disabledTimes[w]:t.disabledTimes),Y},Z=e.computed(()=>(w,C)=>{var Y;if(Array.isArray(t.disabledTimes)){const{disabledArr:L,hours:U}=G(w,C),v=L.filter(F=>+F.hours===U);return((Y=v[0])==null?void 0:Y.minutes)==="*"?{hours:[U],minutes:void 0,seconds:void 0}:{hours:[],minutes:(v==null?void 0:v.map(F=>+F.minutes))??[],seconds:(v==null?void 0:v.map(F=>F.seconds?+F.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:y,updateHours:h,updateMinutes:R,updateSeconds:P,getSetDateTime:m,updateTimeValues:W,getSecondsValue:l,assignStartTime:j,disabledTimesConfig:Z}},da=(t,r)=>{const{modelValue:a,time:n}=et(t,r),{defaultedStartTime:o}=de(t),{updateTimeValues:l,getSetDateTime:m,setTime:y,assignStartTime:D,disabledTimesConfig:B}=Bn(t,n,a),h=C=>{const{hours:Y,minutes:L,seconds:U}=C;return{hours:+Y,minutes:+L,seconds:U?+U:0}},R=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const Y=h(t.startTime[0]),L=h(t.startTime[1]);return[d.set(A(),Y),d.set(A(),L)]}const C=h(t.startTime);return d.set(A(),C)}return t.range?[null,null]:null},P=()=>{if(t.range){const[C,Y]=R();a.value=[m(C,0),m(Y,1)]}else a.value=m(R())},W=C=>Array.isArray(C)?[Pe(A(C[0])),Pe(A(C[1]))]:[Pe(C??A())],j=(C,Y,L)=>{y("hours",C),y("minutes",Y),t.enableSeconds&&y("seconds",L)},G=()=>{const[C,Y]=W(a.value);return t.range?j([C.hours,Y.hours],[C.minutes,Y.minutes],[C.seconds,Y.minutes]):j(C.hours,C.minutes,C.seconds)};e.onMounted(()=>{if(!t.shadow)return D(o.value),a.value?G():P()});const Z=()=>{Array.isArray(a.value)?a.value=a.value.map((C,Y)=>C&&m(C,Y)):a.value=m(a.value),r("time-update")};return{time:n,disabledTimesConfig:B,updateTime:(C,Y=!0,L=!1)=>{l(C,Y,L,Z)}}},fa=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Te},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),o=Me(n,"timePicker"),{time:l,disabledTimesConfig:m,updateTime:y}=da(a,r);return(D,B)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode($n,e.mergeProps(D.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":D.internalModelValue,"disabled-times-config":e.unref(m),"onUpdate:hours":B[0]||(B[0]=h=>e.unref(y)(h)),"onUpdate:minutes":B[1]||(B[1]=h=>e.unref(y)(h,!1)),"onUpdate:seconds":B[2]||(B[2]=h=>e.unref(y)(h,!1,!0)),onAmPmChange:B[3]||(B[3]=h=>D.$emit("am-pm-change",h))}),e.createSlots({_:2},[e.renderList(e.unref(o),(h,R)=>({name:h,fn:e.withCtx(P=>[e.renderSlot(D.$slots,h,e.normalizeProps(e.guardReactiveProps(P)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),ma={class:"dp__month_year_row"},ga=["aria-label","onClick","onKeydown"],pa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Te},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:o,defaultedAriaLabels:l,defaultedMultiCalendars:m,defaultedFilters:y,defaultedConfig:D}=de(n),{transitionName:B,showTransition:h}=Ue(o),{buildMatrix:R}=Ae(),{handleMonthYearChange:P,isDisabled:W,updateMonthYear:j}=$r(n,a),{showLeftIcon:G,showRightIcon:Z}=tt(),w=e.ref(!1),C=e.ref(!1),Y=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const L=f=>({get:()=>n[f],set:s=>{const S=f===be.month?be.year:be.month;a("update-month-year",{[f]:s,[S]:n[S]}),f===be.month?I(!0):X(!0)}}),U=e.computed(L(be.month)),v=e.computed(L(be.year)),F=e.computed(()=>f=>({month:n.month,year:n.year,items:f===be.month?n.months:n.years,instance:n.instance,updateMonthYear:j,toggle:f===be.month?I:X})),q=e.computed(()=>{const f=n.months.find(s=>s.value===n.month);return f||{text:"",value:0}}),H=e.computed(()=>Oe(n.months,f=>{const s=n.month===f.value,S=Le(f.value,mn(n.year,n.minDate),gn(n.year,n.maxDate))||y.value.months.includes(f.value);return{active:s,disabled:S}})),k=e.computed(()=>Oe(n.years,f=>{const s=n.year===f.value,S=Le(f.value,Ye(n.minDate),Ye(n.maxDate))||y.value.years.includes(f.value);return{active:s,disabled:S}})),T=(f,s)=>{s!==void 0?f.value=s:f.value=!f.value,f.value||a("overlay-closed")},I=(f=!1,s)=>{p(f),T(w,s)},X=(f=!1,s)=>{p(f),T(C,s)},p=f=>{f||a("reset-flow")},V=(f,s)=>{n.arrowNavigation&&(Y.value[s]=ue(f),R(Y.value,"monthYear"))},g=e.computed(()=>{var f,s;return[{type:be.month,index:1,toggle:I,modelValue:U.value,updateModelValue:S=>U.value=S,text:q.value.text,showSelectionGrid:w.value,items:H.value,ariaLabel:(f=l.value)==null?void 0:f.openMonthsOverlay},{type:be.year,index:2,toggle:X,modelValue:v.value,updateModelValue:S=>v.value=S,text:n.year,showSelectionGrid:C.value,items:k.value,ariaLabel:(s=l.value)==null?void 0:s.openYearsOverlay}]}),b=e.computed(()=>n.disableYearSelect?[g.value[0]]:g.value);return r({toggleMonthPicker:I,toggleYearPicker:X,handleMonthYearChange:P}),(f,s)=>{var S,x,i;return e.openBlock(),e.createElementBlock("div",ma,[f.$slots["month-year"]?e.renderSlot(f.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(j),handleMonthYearChange:e.unref(P),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(G)(e.unref(m),t.instance)&&!f.vertical?(e.openBlock(),e.createBlock(xe,{key:0,"aria-label":(S=e.unref(l))==null?void 0:S.prevMonth,disabled:e.unref(W)(!1),onActivate:s[0]||(s[0]=u=>e.unref(P)(!1,!0)),onSetRef:s[1]||(s[1]=u=>V(u,0))},{default:e.withCtx(()=>[f.$slots["arrow-left"]?e.renderSlot(f.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:f.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(u,N)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:u.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":u.ariaLabel,ref_for:!0,ref:_=>V(_,N+1),onClick:u.toggle,onKeydown:[e.withKeys(e.withModifiers(u.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(u.toggle,["prevent"]),["space"])]},[f.$slots[u.type]?e.renderSlot(f.$slots,u.type,{key:0,text:u.text,value:n[u.type]}):e.createCommentVNode("",!0),f.$slots[u.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(u.text),1)],64))],40,ga),e.createVNode(e.Transition,{name:e.unref(B)(u.showSelectionGrid),css:e.unref(h)},{default:e.withCtx(()=>[u.showSelectionGrid?(e.openBlock(),e.createBlock(je,{key:0,items:u.items,"arrow-navigation":f.arrowNavigation,"hide-navigation":f.hideNavigation,"is-last":f.autoApply&&!f.keepActionRow&&!e.unref(D).keepActionRow,"skip-button-ref":!1,config:f.config,type:u.type,"header-refs":[],"esc-close":f.escClose,"text-input":f.textInput,onSelected:u.updateModelValue,onToggle:u.toggle},e.createSlots({"button-icon":e.withCtx(()=>[f.$slots["calendar-icon"]?e.renderSlot(f.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),f.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(He),{key:1}))]),_:2},[f.$slots[`${u.type}-overlay-val`]?{name:"item",fn:e.withCtx(({item:_})=>[e.renderSlot(f.$slots,`${u.type}-overlay-val`,{text:_.text,value:_.value})]),key:"0"}:void 0,f.$slots[`${u.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(f.$slots,`${u.type}-overlay`,e.normalizeProps(e.guardReactiveProps(F.value(u.type))))]),key:"1"}:void 0,f.$slots[`${u.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(f.$slots,`${u.type}-overlay-header`,{toggle:u.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(G)(e.unref(m),t.instance)&&f.vertical?(e.openBlock(),e.createBlock(xe,{key:1,"aria-label":(x=e.unref(l))==null?void 0:x.prevMonth,disabled:e.unref(W)(!1),onActivate:s[2]||(s[2]=u=>e.unref(P)(!1,!0))},{default:e.withCtx(()=>[f.$slots["arrow-up"]?e.renderSlot(f.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),f.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Z)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(xe,{key:2,ref:"rightIcon",disabled:e.unref(W)(!0),"aria-label":(i=e.unref(l))==null?void 0:i.nextMonth,onActivate:s[3]||(s[3]=u=>e.unref(P)(!0,!0)),onSetRef:s[4]||(s[4]=u=>V(u,f.disableYearSelect?2:3))},{default:e.withCtx(()=>[f.$slots[f.vertical?"arrow-down":"arrow-right"]?e.renderSlot(f.$slots,f.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),f.$slots[f.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(f.vertical?e.unref(ut):e.unref(lt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ha=["aria-label"],ya={class:"dp__calendar_header",role:"row"},ka={key:0,class:"dp__calendar_header_item",role:"gridcell"},wa=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ba=["aria-label"],Ma={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Da={class:"dp__cell_inner"},Ca=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Sa=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Te},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:o}=Ae(),{defaultedTransitions:l,defaultedConfig:m,defaultedAriaLabels:y,defaultedMultiCalendars:D}=de(n),B=e.ref(null),h=e.ref({bottom:"",left:"",transform:""}),R=e.ref([]),P=e.ref(null),W=e.ref(!0),j=e.ref(""),G=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),w=e.ref({left:"50%"}),C=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),Y=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):ar(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:R}),!n.noSwipe&&!m.value.noSwipe&&P.value&&(P.value.addEventListener("touchstart",X,{passive:!1}),P.value.addEventListener("touchend",p,{passive:!1}),P.value.addEventListener("touchmove",V,{passive:!1})),n.monthChangeOnScroll&&P.value&&P.value.addEventListener("wheel",f,{passive:!1})});const L=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",U=(i,u)=>{if(n.transitions){const N=ye(Se(A(),n.month,n.year));j.value=ge(ye(Se(A(),i,u)),N)?l.value[L(!0)]:l.value[L(!1)],W.value=!1,e.nextTick(()=>{W.value=!0})}},v=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),F=e.computed(()=>i=>{const u=lr(i);return{dp__marker_dot:u.type==="dot",dp__marker_line:u.type==="line"}}),q=e.computed(()=>i=>ne(i,B.value)),H=e.computed(()=>({dp__calendar:!0,dp__calendar_next:D.value.count>0&&n.instance!==0})),k=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),T=async(i,u,N)=>{var _,$;if(a("set-hover-date",i),($=(_=i.marker)==null?void 0:_.tooltip)!=null&&$.length){const J=ue(R.value[u][N]);if(J){const{width:O,height:te}=J.getBoundingClientRect();B.value=i.value;let ae={left:`${O/2}px`},re=-50;if(await e.nextTick(),Z.value[0]){const{left:E,width:K}=Z.value[0].getBoundingClientRect();E<0&&(ae={left:"0"},re=0,w.value.left=`${O/2}px`),window.innerWidth<E+K&&(ae={right:"0"},re=0,w.value.left=`${K-O/2}px`)}h.value={bottom:`${te}px`,...ae,transform:`translateX(${re}%)`},a("tooltip-open",i.marker)}}},I=i=>{B.value&&(B.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},X=i=>{G.value.startX=i.changedTouches[0].screenX,G.value.startY=i.changedTouches[0].screenY},p=i=>{G.value.endX=i.changedTouches[0].screenX,G.value.endY=i.changedTouches[0].screenY,g()},V=i=>{n.vertical&&!n.inline&&i.preventDefault()},g=()=>{const i=n.vertical?"Y":"X";Math.abs(G.value[`start${i}`]-G.value[`end${i}`])>10&&a("handle-swipe",G.value[`start${i}`]>G.value[`end${i}`]?"right":"left")},b=(i,u,N)=>{i&&(Array.isArray(R.value[u])?R.value[u][N]=i:R.value[u]=[i]),n.arrowNavigation&&o(R.value,"calendar")},f=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},s=i=>{const u=i[0];return n.weekNumbers==="local"?d.getWeek(u.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?d.getISOWeek(u.value):typeof n.weekNumbers=="function"?n.weekNumbers(u.value):""},S=(i,u)=>{$e(i,m.value),a("select-date",u)},x=i=>{$e(i,m.value)};return r({triggerTransition:U}),(i,u)=>{var N;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(H.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:P,role:"grid",class:e.normalizeClass(v.value),"aria-label":(N=e.unref(y))==null?void 0:N.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",ya,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ka,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Y.value,(_,$)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:$},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:_,index:$}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(_),1)],64))]))),128))]),wa,e.createVNode(e.Transition,{name:j.value,css:!!i.transitions},{default:e.withCtx(()=>{var _;return[W.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":((_=e.unref(y))==null?void 0:_.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.value,($,J)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:J},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ma,[e.createElementVNode("div",Da,e.toDisplayString(s($.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.days,(O,te)=>{var ae,re,E;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:K=>b(K,J,te),key:te+J,"aria-selected":O.classData.dp__active_date||O.classData.dp__range_start||O.classData.dp__range_start,"aria-disabled":O.classData.dp__cell_disabled||void 0,"aria-label":(re=(ae=e.unref(y))==null?void 0:ae.day)==null?void 0:re.call(ae,O),tabindex:"0",onClick:e.withModifiers(K=>S(K,O),["prevent"]),onKeydown:[e.withKeys(K=>i.$emit("select-date",O),["enter"]),e.withKeys(K=>i.$emit("handle-space",O),["space"])],onMouseenter:K=>T(O,J,te),onMouseleave:K=>I(O)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",O.classData])},[i.$slots.day&&k.value(O)?e.renderSlot(i.$slots,"day",{key:0,day:+O.text,date:O.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(O.text),1)],64)),O.marker&&k.value(O)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:O.marker,day:+O.text,date:O.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(F.value(O.marker)),style:e.normalizeStyle(O.marker.color?{backgroundColor:O.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),q.value(O.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(h.value)},[(E=O.marker)!=null&&E.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:x},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.marker.tooltip,(K,se)=>(e.openBlock(),e.createElementBlock("div",{key:se,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:K,day:O.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(K.color?{backgroundColor:K.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(K.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(w.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Ca)}),128))]))),128))],8,ba)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,ha)],2)}}}),vn=t=>Array.isArray(t),Ta=(t,r,a,n)=>{const o=e.ref([]),{modelValue:l,calendars:m,time:y}=et(t,r),{defaultedMultiCalendars:D,defaultedStartTime:B}=de(t),{validateMonthYearInRange:h,isDisabled:R,isDateRangeAllowed:P,checkMinMaxRange:W}=We(t),{updateTimeValues:j,getSetDateTime:G,setTime:Z,assignStartTime:w,disabledTimesConfig:C}=Bn(t,y,l,n),Y=e.computed(()=>c=>m.value[c]?m.value[c].month:0),L=e.computed(()=>c=>m.value[c]?m.value[c].year:0),U=(c,M,z)=>{var ee,le;m.value[c]||(m.value[c]={month:0,year:0}),m.value[c].month=dn(M)?(ee=m.value[c])==null?void 0:ee.month:M,m.value[c].year=dn(z)?(le=m.value[c])==null?void 0:le.year:z},v=()=>{t.autoApply&&r("select-date")};e.watch(l,(c,M)=>{JSON.stringify(c)!==JSON.stringify(M)&&H()}),e.onMounted(()=>{t.shadow||(l.value||(s(),B.value&&w(B.value)),H(!0),t.focusStartDate&&t.startDate&&s())});const F=e.computed(()=>{var c;return(c=t.flow)!=null&&c.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),q=()=>{t.autoApply&&F.value&&r("auto-apply",t.partialFlow)},H=(c=!1)=>{if(l.value)return Array.isArray(l.value)?(o.value=l.value,V(c)):T(l.value,c);if(D.value.count&&c&&!t.startDate)return k(A(),c)},k=(c,M=!1)=>{if((!D.value.count||!D.value.static||M)&&U(0,d.getMonth(c),d.getYear(c)),D.value.count)for(let z=1;z<D.value.count;z++){const ee=d.set(A(),{month:Y.value(z-1),year:L.value(z-1)}),le=d.add(ee,{months:1});m.value[z]={month:d.getMonth(le),year:d.getYear(le)}}},T=(c,M)=>{k(c),Z("hours",d.getHours(c)),Z("minutes",d.getMinutes(c)),Z("seconds",d.getSeconds(c)),D.value.count&&M&&f()},I=c=>{if(D.value.count){if(D.value.solo)return 0;const M=d.getMonth(c[0]),z=d.getMonth(c[1]);return Math.abs(z-M)<D.value.count?0:1}return 1},X=(c,M)=>{c[1]&&t.showLastInRange?k(c[I(c)],M):k(c[0],M);const z=(ee,le)=>[ee(c[0]),c[1]?ee(c[1]):y[le][1]];Z("hours",z(d.getHours,"hours")),Z("minutes",z(d.getMinutes,"minutes")),Z("seconds",z(d.getSeconds,"seconds"))},p=(c,M)=>{if((t.range||t.weekPicker)&&!t.multiDates)return X(c,M);if(t.multiDates&&M){const z=c[c.length-1];return T(z,M)}},V=c=>{const M=l.value;p(M,c),D.value.count&&D.value.solo&&f()},g=(c,M)=>{const z=d.set(A(),{month:Y.value(M),year:L.value(M)}),ee=c<0?d.addMonths(z,1):d.subMonths(z,1);h(d.getMonth(ee),d.getYear(ee),c<0,t.preventMinMaxNavigation)&&(U(M,d.getMonth(ee),d.getYear(ee)),D.value.count&&!D.value.solo&&b(M),a())},b=c=>{for(let M=c-1;M>=0;M--){const z=d.subMonths(d.set(A(),{month:Y.value(M+1),year:L.value(M+1)}),1);U(M,d.getMonth(z),d.getYear(z))}for(let M=c+1;M<=D.value.count-1;M++){const z=d.addMonths(d.set(A(),{month:Y.value(M-1),year:L.value(M-1)}),1);U(M,d.getMonth(z),d.getYear(z))}},f=()=>{if(Array.isArray(l.value)&&l.value.length===2){const c=A(A(l.value[1]?l.value[1]:d.addMonths(l.value[0],1))),[M,z]=[d.getMonth(l.value[0]),d.getYear(l.value[0])],[ee,le]=[d.getMonth(l.value[1]),d.getYear(l.value[1])];(M!==ee||M===ee&&z!==le)&&D.value.solo&&U(1,d.getMonth(c),d.getYear(c))}else l.value&&!Array.isArray(l.value)&&(U(0,d.getMonth(l.value),d.getYear(l.value)),k(A()))},s=()=>{t.startDate&&(U(0,d.getMonth(A(t.startDate)),d.getYear(A(t.startDate))),D.value.count&&b(0))},S=(c,M)=>{t.monthChangeOnScroll&&g(t.monthChangeOnScroll!=="inverse"?-c.deltaY:c.deltaY,M)},x=(c,M,z=!1)=>{t.monthChangeOnArrows&&t.vertical===z&&i(c,M)},i=(c,M)=>{g(c==="right"?-1:1,M)},u=c=>t.markers.find(M=>ne(hn(c.value),hn(M.date))),N=(c,M)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[c==0,!0];case"fair":return[c==0||M>c,!0];case"append":return[!1,!1];default:return[!1,!1]}},_=(c,M,z,ee)=>{if(t.sixWeeks&&c.length<6){const le=6-c.length,Ne=(M.getDay()+7-ee)%7,rt=6-(z.getDay()+7-ee)%7,[Ze,xt]=N(Ne,rt);for(let Ve=1;Ve<=le;Ve++)if(xt?!!(Ve%2)==Ze:Ze){const at=c[0].days[0],Gt=$(d.addDays(at.value,-7),d.getMonth(M));c.unshift({days:Gt})}else{const at=c[c.length-1],Gt=at.days[at.days.length-1],za=$(d.addDays(Gt.value,1),d.getMonth(M));c.push({days:za})}}return c},$=(c,M)=>{const z=A(c),ee=[];for(let le=0;le<7;le++){const Ne=d.addDays(z,le),qe=d.getMonth(Ne)!==M;ee.push({text:t.hideOffsetDates&&qe?"":Ne.getDate(),value:Ne,current:!qe,classData:{}})}return ee},J=(c,M)=>{const z=[],ee=A(De(new Date(M,c),t.timezone)),le=A(De(new Date(M,c+1,0),t.timezone)),Ne=t.weekStart,qe=d.startOfWeek(ee,{weekStartsOn:Ne}),rt=Ze=>{const xt=$(Ze,c);if(z.push({days:xt}),!z[z.length-1].days.some(Ve=>ne(ye(Ve.value),ye(le)))){const Ve=d.addDays(Ze,7);rt(Ve)}};return rt(qe),_(z,ee,le,Ne)},O=c=>(l.value=Je(A(c.value),t.timezone,t.weekStart),q()),te=c=>{const M=Be(A(c.value),y.hours,y.minutes,ce());t.multiDates?Rt(M,l,t.multiDatesLimit):l.value=M,n(),e.nextTick().then(()=>{q()})},ae=c=>t.noDisabledRange?yn(o.value[0],c).some(z=>R(z)):!1,re=()=>{o.value=l.value?l.value.slice():[],o.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(o.value=[])},E=(c,M)=>{const z=[A(c.value),d.addDays(A(c.value),+t.autoRange)];P(z)&&(M&&K(c.value),o.value=z)},K=c=>{const M=d.getMonth(A(c)),z=d.getYear(A(c));if(U(0,M,z),D.value.count>0)for(let ee=1;ee<D.value.count;ee++){const le=dr(d.set(A(c),{year:Y.value(ee-1),month:L.value(ee-1)}));U(ee,le.month,le.year)}},se=c=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(ge(c,l.value[0])||ne(c,l.value[0]))?[l.value[0],c]:t.fixedEnd&&(fe(c,l.value[1])||ne(c,l.value[1]))?[c,l.value[1]]:(r("invalid-fixed-range",c),l.value):[],Q=c=>{ae(c.value)||!W(c.value,l.value,t.fixedStart?0:1)||(o.value=se(A(c.value)))},ke=(c,M)=>{if(re(),t.autoRange)return E(c,M);if(t.fixedStart||t.fixedEnd)return Q(c);o.value[0]?W(A(c.value),l.value)&&!ae(c.value)&&(fe(A(c.value),A(o.value[0]))?(o.value.unshift(A(c.value)),r("range-end",o.value[0])):(o.value[1]=A(c.value),r("range-end",o.value[1]))):(o.value[0]=A(c.value),r("range-start",o.value[0]))},ce=(c=!0)=>t.enableSeconds?Array.isArray(y.seconds)?c?y.seconds[0]:y.seconds[1]:y.seconds:0,Ge=c=>{o.value[c]=Be(o.value[c],y.hours[c],y.minutes[c],ce(c!==1))},It=()=>{var c,M;o.value[0]&&o.value[1]&&+((c=o.value)==null?void 0:c[0])>+((M=o.value)==null?void 0:M[1])&&(o.value.reverse(),r("range-start",o.value[0]),r("range-end",o.value[1]))},zt=()=>{o.value.length&&(o.value[0]&&!o.value[1]?Ge(0):(Ge(0),Ge(1),n()),It(),l.value=o.value.slice(),Vt(o.value,r,t.autoApply,t.modelAuto))},Ht=(c,M=!1)=>{if(!(R(c.value)||!c.current&&t.hideOffsetDates)){if(t.weekPicker)return O(c);if(!t.range)return te(c);vn(y.hours)&&vn(y.minutes)&&!t.multiDates&&(ke(c,M),zt())}},Lt=(c,M)=>{var ee;U(c,M.month,M.year),D.value.count&&!D.value.solo&&b(c),r("update-month-year",{instance:c,month:M.month,year:M.year}),a(D.value.solo?c:void 0);const z=(ee=t.flow)!=null&&ee.length?t.flow[t.flowStep]:void 0;!M.fromNav&&(z===Ce.month||z===Ce.year)&&n()},Kt=(c,M)=>{Array.isArray(c)&&c.length<=2&&t.range?l.value=c.map(z=>De(A(z),M?void 0:t.timezone)):Array.isArray(c)||(l.value=De(A(c),M?void 0:t.timezone)),v(),t.multiCalendars&&e.nextTick().then(()=>H(!0))},Ut=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fe(A(),l.value[0])?[A(),l.value[0]]:[l.value[0],A()]:l.value=[A()]:l.value=A(),v()},Wt=()=>{if(Array.isArray(l.value))if(t.multiDates){const c=jt();l.value[l.value.length-1]=G(c)}else l.value=l.value.map((c,M)=>c&&G(c,M));else l.value=G(l.value);r("time-update")},jt=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:m,modelValue:l,month:Y,year:L,time:y,disabledTimesConfig:C,getCalendarDays:J,getMarker:u,handleScroll:S,handleSwipe:i,handleArrow:x,selectDate:Ht,updateMonthYear:Lt,presetDate:Kt,selectCurrentDate:Ut,updateTime:(c,M=!0,z=!1)=>{j(c,M,z,Wt)}}},$a={key:0},Ba=e.defineComponent({__name:"DatePicker",props:{...Te},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year"],setup(t,{expose:r,emit:a}){const n=t,{calendars:o,month:l,year:m,modelValue:y,time:D,disabledTimesConfig:B,getCalendarDays:h,getMarker:R,handleArrow:P,handleScroll:W,handleSwipe:j,selectDate:G,updateMonthYear:Z,presetDate:w,selectCurrentDate:C,updateTime:Y}=Ta(n,a,b,f),L=e.useSlots(),{setHoverDate:U,getDayClassData:v,clearHoverDate:F}=Nr(y,n),{defaultedMultiCalendars:q}=de(n),H=e.ref([]),k=e.ref([]),T=e.ref(null),I=Me(L,"calendar"),X=Me(L,"monthYear"),p=Me(L,"timePicker"),V=N=>{n.shadow||a("mount",N)};e.watch(o,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const g=e.computed(()=>N=>h(l.value(N),m.value(N)).map(_=>({..._,days:_.days.map($=>($.marker=R($),$.classData=v($),$))})));function b(N){var _;N||N===0?(_=k.value[N])==null||_.triggerTransition(l.value(N),m.value(N)):k.value.forEach(($,J)=>$.triggerTransition(l.value(J),m.value(J)))}function f(){a("update-flow-step")}const s=(N,_=!1)=>{G(N,_),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:F,presetDate:w,selectCurrentDate:C,toggleMonthPicker:(N,_,$=0)=>{var J;(J=H.value[$])==null||J.toggleMonthPicker(N,_)},toggleYearPicker:(N,_,$=0)=>{var J;(J=H.value[$])==null||J.toggleYearPicker(N,_)},toggleTimePicker:(N,_,$)=>{var J;(J=T.value)==null||J.toggleTimePicker(N,_,$)},handleArrow:P,updateMonthYear:Z,getSidebarProps:()=>({modelValue:y,month:l,year:m,time:D,updateTime:Y,updateMonthYear:Z,selectDate:G,presetDate:w})}),(N,_)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Et,{"multi-calendars":e.unref(q).count},{default:e.withCtx(({instance:$,index:J})=>[N.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(pa,e.mergeProps({key:0,ref:O=>{O&&(H.value[J]=O)},months:e.unref(sn)(N.formatLocale,N.locale,N.monthNameFormat),years:e.unref(Ct)(N.yearRange,N.reverseYears),month:e.unref(l)($),year:e.unref(m)($),instance:$},N.$props,{onMount:_[0]||(_[0]=O=>V(e.unref(Ee).header)),onResetFlow:_[1]||(_[1]=O=>N.$emit("reset-flow")),onUpdateMonthYear:O=>e.unref(Z)($,O),onOverlayClosed:_[2]||(_[2]=O=>N.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(X),(O,te)=>({name:O,fn:e.withCtx(ae=>[e.renderSlot(N.$slots,O,e.normalizeProps(e.guardReactiveProps(ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Sa,e.mergeProps({ref:O=>{O&&(k.value[J]=O)},"mapped-dates":g.value($),month:e.unref(l)($),year:e.unref(m)($)},N.$props,{onSelectDate:O=>e.unref(G)(O,$!==1),onHandleSpace:O=>s(O,$!==1),onSetHoverDate:_[3]||(_[3]=O=>e.unref(U)(O)),onHandleScroll:O=>e.unref(W)(O,$),onHandleSwipe:O=>e.unref(j)(O,$),onMount:_[4]||(_[4]=O=>V(e.unref(Ee).calendar)),onResetFlow:_[5]||(_[5]=O=>N.$emit("reset-flow")),onTooltipOpen:_[6]||(_[6]=O=>N.$emit("tooltip-open",O)),onTooltipClose:_[7]||(_[7]=O=>N.$emit("tooltip-close",O))}),e.createSlots({_:2},[e.renderList(e.unref(I),(O,te)=>({name:O,fn:e.withCtx(ae=>[e.renderSlot(N.$slots,O,e.normalizeProps(e.guardReactiveProps({...ae})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),N.enableTimePicker?(e.openBlock(),e.createElementBlock("div",$a,[N.$slots["time-picker"]?e.renderSlot(N.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(D),updateTime:e.unref(Y)}))):(e.openBlock(),e.createBlock($n,e.mergeProps({key:1,ref_key:"timePickerRef",ref:T},N.$props,{hours:e.unref(D).hours,minutes:e.unref(D).minutes,seconds:e.unref(D).seconds,"internal-model-value":N.internalModelValue,"disabled-times-config":e.unref(B),onMount:_[8]||(_[8]=$=>V(e.unref(Ee).timePicker)),"onUpdate:hours":_[9]||(_[9]=$=>e.unref(Y)($)),"onUpdate:minutes":_[10]||(_[10]=$=>e.unref(Y)($,!1)),"onUpdate:seconds":_[11]||(_[11]=$=>e.unref(Y)($,!1,!0)),onResetFlow:_[12]||(_[12]=$=>N.$emit("reset-flow")),onOverlayClosed:_[13]||(_[13]=$=>N.$emit("time-picker-close")),onOverlayOpened:_[14]||(_[14]=$=>N.$emit("time-picker-open",$)),onAmPmChange:_[15]||(_[15]=$=>N.$emit("am-pm-change",$))}),e.createSlots({_:2},[e.renderList(e.unref(p),($,J)=>({name:$,fn:e.withCtx(O=>[e.renderSlot(N.$slots,$,e.normalizeProps(e.guardReactiveProps(O)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):e.createCommentVNode("",!0)],64))}}),va=["id","onKeydown"],Aa={key:0,class:"dp__sidebar_left"},Na={key:1,class:"dp--preset-dates"},Pa=["onClick","onKeydown"],_a={key:2,class:"dp__sidebar_right"},Ea={key:3,class:"dp__action_extra"},An=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...nt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,o=e.computed(()=>{const{openOnTop:E,...K}=n;return{...K,flowStep:F.value}}),{setMenuFocused:l,setShiftKey:m,control:y}=Dn(),D=e.useSlots(),{defaultedTextInput:B,defaultedInline:h,defaultedConfig:R}=de(n),P=e.ref(null),W=e.ref(0),j=e.ref(null),G=e.ref(null),Z=e.ref(!1),w=e.ref(null);e.onMounted(()=>{if(!n.shadow){Z.value=!0,C(),window.addEventListener("resize",C);const E=ue(j);if(E&&!B.value.enabled&&!h.value.enabled&&(l(!0),I()),E){const K=se=>{(n.allowPreventDefault||R.value.allowPreventDefault)&&se.preventDefault(),$e(se,R.value,!0)};E.addEventListener("pointerdown",K),E.addEventListener("mousedown",K)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",C)});const C=()=>{const E=ue(G);E&&(W.value=E.getBoundingClientRect().width)},{arrowRight:Y,arrowLeft:L,arrowDown:U,arrowUp:v}=Ae(),{flowStep:F,updateFlowStep:q,childMount:H,resetFlow:k}=Pr(n,a,w),T=e.computed(()=>n.monthPicker?qr:n.yearPicker?Xr:n.timePicker?fa:Ba),I=()=>{const E=ue(j);E&&E.focus({preventScroll:!0})},X=e.computed(()=>{var E;return((E=w.value)==null?void 0:E.getSidebarProps())||{}}),p=()=>{n.openOnTop&&a("recalculate-position")},V=Me(D,"action"),g=e.computed(()=>n.monthPicker||n.yearPicker?Me(D,"monthYear"):n.timePicker?Me(D,"timePicker"):Me(D,"shared")),b=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),f=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),s=e.computed(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[n.menuClassName]:!!n.menuClassName})),S=E=>{$e(E,R.value,!0)},x=()=>{n.escClose&&a("close-picker")},i=E=>{if(n.arrowNavigation){if(E==="up")return v();if(E==="down")return U();if(E==="left")return L();if(E==="right")return Y()}else E==="left"||E==="up"?J("handleArrow","left",0,E==="up"):J("handleArrow","right",0,E==="down")},u=E=>{m(E.shiftKey),!n.disableMonthYearSelect&&E.code==="Tab"&&E.target.classList.contains("dp__menu")&&y.value.shiftKeyInMenu&&(E.preventDefault(),$e(E,R.value,!0),a("close-picker"))},N=()=>{I(),a("time-picker-close")},_=E=>{var K,se,Q;(K=w.value)==null||K.toggleTimePicker(!1,!1),(se=w.value)==null||se.toggleMonthPicker(!1,!1,E),(Q=w.value)==null||Q.toggleYearPicker(!1,!1,E)},$=(E,K=0)=>{var se,Q,ke;return E==="month"?(se=w.value)==null?void 0:se.toggleMonthPicker(!1,!0,K):E==="year"?(Q=w.value)==null?void 0:Q.toggleYearPicker(!1,!0,K):E==="time"?(ke=w.value)==null?void 0:ke.toggleTimePicker(!0,!1):_(K)},J=(E,...K)=>{var se,Q;(se=w.value)!=null&&se[E]&&((Q=w.value)==null||Q[E](...K))},O=()=>{J("selectCurrentDate")},te=(E,K)=>{J("presetDate",E,K)},ae=()=>{J("clearHoverDate")};return r({updateMonthYear:(E,K)=>{J("updateMonthYear",E,K)},switchView:$}),(E,K)=>{var se;return e.openBlock(),e.createElementBlock("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:j,role:"dialog",class:e.normalizeClass(s.value),onMouseleave:ae,onClick:S,onKeydown:[e.withKeys(x,["esc"]),K[15]||(K[15]=e.withKeys(e.withModifiers(Q=>i("left"),["prevent"]),["left"])),K[16]||(K[16]=e.withKeys(e.withModifiers(Q=>i("up"),["prevent"]),["up"])),K[17]||(K[17]=e.withKeys(e.withModifiers(Q=>i("down"),["prevent"]),["down"])),K[18]||(K[18]=e.withKeys(e.withModifiers(Q=>i("right"),["prevent"]),["right"])),u]},[(E.disabled||E.readonly)&&e.unref(h).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(f.value)},null,2)):e.createCommentVNode("",!0),!e.unref(h).enabled&&!E.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(b.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:G,class:e.normalizeClass({dp__menu_content_wrapper:((se=E.presetDates)==null?void 0:se.length)||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${W.value}px`})},[E.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Aa,[e.renderSlot(E.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(X.value)))])):e.createCommentVNode("",!0),E.presetDates.length?(e.openBlock(),e.createElementBlock("div",Na,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.presetDates,(Q,ke)=>(e.openBlock(),e.createElementBlock("div",{key:ke,style:e.normalizeStyle(Q.style||{}),class:"dp--preset-range"},[Q.slot?e.renderSlot(E.$slots,Q.slot,{key:0,presetDate:te,label:Q.label,value:Q.value}):(e.openBlock(),e.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:ce=>te(Q.value,Q.noTz),onKeydown:[e.withKeys(e.withModifiers(ce=>te(Q.value,Q.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(ce=>te(Q.value,Q.noTz),["prevent"]),["space"])]},e.toDisplayString(Q.label),41,Pa))],4))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:P,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(T.value),e.mergeProps({ref_key:"dynCmpRef",ref:w},o.value,{"flow-step":e.unref(F),onMount:e.unref(H),onUpdateFlowStep:e.unref(q),onResetFlow:e.unref(k),onFocusMenu:I,onSelectDate:K[0]||(K[0]=Q=>E.$emit("select-date")),onTooltipOpen:K[1]||(K[1]=Q=>E.$emit("tooltip-open",Q)),onTooltipClose:K[2]||(K[2]=Q=>E.$emit("tooltip-close",Q)),onAutoApply:K[3]||(K[3]=Q=>E.$emit("auto-apply",Q)),onRangeStart:K[4]||(K[4]=Q=>E.$emit("range-start",Q)),onRangeEnd:K[5]||(K[5]=Q=>E.$emit("range-end",Q)),onInvalidFixedRange:K[6]||(K[6]=Q=>E.$emit("invalid-fixed-range",Q)),onTimeUpdate:K[7]||(K[7]=Q=>E.$emit("time-update")),onAmPmChange:K[8]||(K[8]=Q=>E.$emit("am-pm-change",Q)),onTimePickerOpen:K[9]||(K[9]=Q=>E.$emit("time-picker-open",Q)),onTimePickerClose:N,onRecalculatePosition:p,onUpdateMonthYear:K[10]||(K[10]=Q=>E.$emit("update-month-year",Q)),"onUpdate:internalModelValue":K[11]||(K[11]=Q=>E.$emit("update:internal-model-value",Q))}),e.createSlots({_:2},[e.renderList(g.value,(Q,ke)=>({name:Q,fn:e.withCtx(ce=>[e.renderSlot(E.$slots,Q,e.normalizeProps(e.guardReactiveProps({...ce})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",_a,[e.renderSlot(E.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(X.value)))])):e.createCommentVNode("",!0),E.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Ea,[E.$slots["action-extra"]?e.renderSlot(E.$slots,"action-extra",{key:0,selectCurrentDate:O}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!E.autoApply||E.keepActionRow||e.unref(R).keepActionRow?(e.openBlock(),e.createBlock(zr,e.mergeProps({key:2,"menu-mount":Z.value},o.value,{"calendar-width":W.value,onClosePicker:K[12]||(K[12]=Q=>E.$emit("close-picker")),onSelectDate:K[13]||(K[13]=Q=>E.$emit("select-date")),onInvalidSelect:K[14]||(K[14]=Q=>E.$emit("invalid-select")),onSelectNow:O}),e.createSlots({_:2},[e.renderList(e.unref(V),(Q,ke)=>({name:Q,fn:e.withCtx(ce=>[e.renderSlot(E.$slots,Q,e.normalizeProps(e.guardReactiveProps({...ce})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,va)}}}),Ra=typeof window<"u"?window:void 0,Ot=()=>{},Va=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Oa=(t,r,a,n)=>{if(!t)return Ot;let o=Ot;const l=e.watch(()=>e.unref(t),y=>{o(),y&&(y.addEventListener(r,a,n),o=()=>{y.removeEventListener(r,a,n),o=Ot})},{immediate:!0,flush:"post"}),m=()=>{l(),o()};return Va(m),m},Ya=(t,r,a,n={})=>{const{window:o=Ra,event:l="pointerdown"}=n;return o?Oa(o,l,y=>{const D=ue(t),B=ue(r);!D||!B||D===y.target||y.composedPath().includes(D)||y.composedPath().includes(B)||a(y)},{passive:!0}):void 0},Ia=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...nt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,o=e.useSlots(),l=e.ref(!1),m=e.toRef(n,"modelValue"),y=e.toRef(n,"timezone"),D=e.ref(null),B=e.ref(null),h=e.ref(null),R=e.ref(!1),P=e.ref(null),{setMenuFocused:W,setShiftKey:j}=Dn(),{clearArrowNav:G}=Ae(),{mapDatesArrToMap:Z,validateDate:w,isValidTime:C}=We(n),{defaultedTransitions:Y,defaultedTextInput:L,defaultedInline:U,defaultedConfig:v}=de(n),{menuTransition:F,showTransition:q}=Ue(Y);e.onMounted(()=>{S(n.modelValue),e.nextTick().then(()=>{U.value.enabled||(g(P.value).addEventListener("scroll",J),window.addEventListener("resize",O))}),U.value.enabled&&(l.value=!0)});const H=e.computed(()=>Z());e.onUnmounted(()=>{if(!U.value.enabled){const c=g(P.value);c&&c.removeEventListener("scroll",J),window.removeEventListener("resize",O)}});const k=Me(o,"all",n.presetDates),T=Me(o,"input");e.watch([m,y],()=>{S(m.value)},{deep:!0});const{openOnTop:I,menuStyle:X,xCorrect:p,setMenuPosition:V,getScrollableParent:g,shadowRender:b}=Br({menuRef:D,menuRefInner:B,inputRef:h,pickerWrapperRef:P,inline:U,emit:a,props:n,slots:o}),{inputValue:f,internalModelValue:s,parseExternalModelValue:S,emitModelValue:x,formatInputValue:i,checkBeforeEmit:u}=Tr(a,n,R),N=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:U.value.enabled,dp__flex_display_with_input:U.value.input})),_=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),$=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:U.value.enabled}:{class:"dp__outer_menu_wrap"}),J=()=>{l.value&&(n.closeOnScroll||v.value.closeOnScroll?ce():V())},O=()=>{l.value&&V()},te=()=>{!n.disabled&&!n.readonly&&(b(An,n),V(!1),l.value=!0,l.value&&a("open"),l.value||ke(),S(n.modelValue))},ae=()=>{f.value="",ke(),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),(n.closeOnClearValue||v.value.closeOnClearValue)&&ce()},re=()=>{const c=s.value;return!c||!Array.isArray(c)&&w(c)?!0:Array.isArray(c)?c.length===2&&w(c[0])&&w(c[1])?!0:n.partialRange&&!n.timePicker?w(c[0]):!1:!1},E=()=>{u()&&re()?(x(),ce()):a("invalid-select",s.value)},K=c=>{se(),x(),(n.closeOnAutoApply||v.value.closeOnAutoApply)&&!c&&ce()},se=()=>{h.value&&L.value.enabled&&h.value.setParsedDate(s.value)},Q=(c=!1)=>{n.autoApply&&C(s.value)&&re()&&(n.range&&Array.isArray(s.value)?(n.partialRange||s.value.length===2)&&K(c):K(c))},ke=()=>{L.value.enabled||(s.value=null)},ce=()=>{U.value.enabled||(l.value&&(l.value=!1,p.value=!1,W(!1),j(!1),G(),a("closed"),f.value&&S(m.value)),ke(),a("blur"))},Ge=(c,M)=>{if(!c){s.value=null;return}s.value=c,M&&(E(),a("text-submit"))},It=()=>{n.autoApply&&C(s.value)&&x(),se()},zt=()=>l.value?ce():te(),Ht=c=>{s.value=c},Lt=()=>{L.value.enabled&&(R.value=!0,i()),a("focus")},Kt=()=>{L.value.enabled&&(R.value=!1,S(n.modelValue)),a("blur")},Ut=c=>{B.value&&B.value.updateMonthYear(0,{month:cn(c.month),year:cn(c.year)})},Wt=c=>{S(c??n.modelValue)},jt=(c,M)=>{var z;(z=B.value)==null||z.switchView(c,M)},Nn=c=>n.onClickOutside?n.onClickOutside(c):v.value.onClickOutside?v.value.onClickOutside(c):ce();return Ya(D,h,()=>Nn(re)),r({closeMenu:ce,selectDate:E,clearValue:ae,openMenu:te,onScroll:J,formatInputValue:i,updateInternalModelValue:Ht,setMonthYear:Ut,parseModel:Wt,switchView:jt}),(c,M)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(N.value),ref_key:"pickerWrapperRef",ref:P},[e.createVNode(Vr,e.mergeProps({ref_key:"inputRef",ref:h,"is-menu-open":l.value,"input-value":e.unref(f),"onUpdate:inputValue":M[0]||(M[0]=z=>e.isRef(f)?f.value=z:null)},c.$props,{onClear:ae,onOpen:te,onSetInputDate:Ge,onSetEmptyDate:e.unref(x),onSelectDate:E,onToggle:zt,onClose:ce,onFocus:Lt,onBlur:Kt,onRealBlur:M[1]||(M[1]=z=>R.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(T),(z,ee)=>({name:z,fn:e.withCtx(le=>[e.renderSlot(c.$slots,z,e.normalizeProps(e.guardReactiveProps(le)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(F)(e.unref(I)),css:e.unref(q)&&!e.unref(U).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:D},$.value,{class:{"dp--menu-wrapper":!e.unref(U).enabled},style:e.unref(U).enabled?void 0:e.unref(X)}),{default:e.withCtx(()=>[e.createVNode(An,e.mergeProps({ref_key:"dpMenuRef",ref:B,class:{[_.value]:!0,"dp--menu-wrapper":c.teleport},style:c.teleport?e.unref(X):void 0,"open-on-top":e.unref(I),"arr-map-values":H.value},c.$props,{"internal-model-value":e.unref(s),"onUpdate:internalModelValue":M[2]||(M[2]=z=>e.isRef(s)?s.value=z:null),onClosePicker:ce,onSelectDate:E,onAutoApply:Q,onTimeUpdate:It,onFlowStep:M[3]||(M[3]=z=>c.$emit("flow-step",z)),onUpdateMonthYear:M[4]||(M[4]=z=>c.$emit("update-month-year",z)),onInvalidSelect:M[5]||(M[5]=z=>c.$emit("invalid-select",e.unref(s))),onInvalidFixedRange:M[6]||(M[6]=z=>c.$emit("invalid-fixed-range",z)),onRecalculatePosition:e.unref(V),onTooltipOpen:M[7]||(M[7]=z=>c.$emit("tooltip-open",z)),onTooltipClose:M[8]||(M[8]=z=>c.$emit("tooltip-close",z)),onTimePickerOpen:M[9]||(M[9]=z=>c.$emit("time-picker-open",z)),onTimePickerClose:M[10]||(M[10]=z=>c.$emit("time-picker-close",z)),onAmPmChange:M[11]||(M[11]=z=>c.$emit("am-pm-change",z)),onRangeStart:M[12]||(M[12]=z=>c.$emit("range-start",z)),onRangeEnd:M[13]||(M[13]=z=>c.$emit("range-end",z))}),e.createSlots({_:2},[e.renderList(e.unref(k),(z,ee)=>({name:z,fn:e.withCtx(le=>[e.renderSlot(c.$slots,z,e.normalizeProps(e.guardReactiveProps({...le})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),Yt=(()=>{const t=Ia;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Yt[t]=r)}),Yt});
